function(){$$.fjs.twitter.isAnywherePresent=false;var c=$$("html").attr("data-fjs-twitter-consumer-key");if(c){var b,d="twitter-anywhere";if(document.getElementById(d)){return}b=document.createElement("script");b.id=d;b.async=true;var a="";if(document.location.protocol=="file:"){a="http:"}b.src=a+"//platform.twitter.com/anywhere.js?id="+c+"&v=1";b.onload=function(){$$.fjs.fire("org.fjs.twitter.init.complete")};b.onreadystatechange=function(){if(this.readyState=="complete"){this.onload()}};document.getElementsByTagName("head")[0].appendChild(b)}$$.fjs.subscribe("org.fjs.twitter.init.complete",$$.fjs.twitter.enableAnywhere);$$(document).on("click","*[data-fjs-twitter-share]",function(){$$.fjs.twitter.share($$(this).attr("data-fjs-twitter-share"),$$(this).attr("data-fjs-twitter-share-link"));return false})},enableAnywhere:function(){if(typeof(twttr)=="undefined"){return $$.fjs.twitter}$$.fjs.twitter.isAnywherePresent=true;twttr.anywhere(function(a){$$("*[data-fjs-twitter-linkify-users]").each(function(){$$.fjs.twitter.linkifyUsers($$(this),$$(this).attr("data-fjs-twitter-linkify-users"))});$$("*[data-fjs-twitter-hovercards]").each(function(){$$.fjs.twitter.hovercards($$(this),$$(this).attr("data-fjs-twitter-hovercards"))});$$("*[data-fjs-twitter-follow]").each(function(){a(this).followButton($$(this).attr("data-fjs-twitter-follow"))});$$("*[data-fjs-twitter-login-button]").each(function(){var b=$$(this).attr("data-fjs-twitter-login-button");if(!b.length){b="medium"}a(this).connectButton({size:b})});$$(document).on("click","*[data-fjs-twitter-login]",function(){$$.fjs.twitter.login();return false});$$(document).on("click","*[data-fjs-twitter-logout]",function(){$$.fjs.twitter.logout();return false});a.bind("authComplete",function(c,b){$$.fjs.twitter.user=b;$$.fjs.fire("org.fjs.twitter.login_status.change",true,true,$$.fjs.twitter.user)});a.bind("signOut",function(b){$$.fjs.twitter.user=null;$$.fjs.fire("org.fjs.twitter.login_status.change",false,true)});if(a.isConnected()){$$.fjs.twitter.user=a.currentUser}$$.fjs.fire("org.fjs.twitter.login_status.change",a.isConnected(),false,$$.fjs.twitter.user)});return $$.fjs.twitter},getUser:function(){return $$.fjs.twitter.user},login:function(){if(!$$.fjs.twitter.isAnywherePresent){return false}twttr.anywhere(function(a){if($$.fjs.twitter.user){$$.fjs.fire("org.fjs.twitter.login_status.change",true,true,$$.fjs.twitter.user);return true}a.signIn()});return true},logout:function(){if(!$$.fjs.twitter.isAnywherePresent){return false}twttr.anywhere.signOut();return true},linkifyUsers:function(b,a){twttr.anywhere(function(c){c(b[0]).linkifyUsers({className:a})});return $$.fjs.twitter},hovercards:function(a,b){var c=Math.round(Math.random()*100000);a.attr("data-fjs-twitter-hovercard-id",c);twttr.anywhere(function(d){d('*[data-fjs-twitter-hovercard-id="'+c+'"]').hovercards({linkify:false,expanded:(b=="expanded")})});return $$.fjs.twitter},share:function(h,d){if(typeof(d)=="undefined"){d=document.location.href}var a=[];var e=/#([^\s]+)/g;var c;while(c=e.exec(h)){a.push(c[1]);h=h.replace("#"+c[1],"")}var b=h.replace(/{%link%}/gi,d);if(b!=h){d=""}var g="width="+$$.fjs.config.twitterShareWindowWidth+",height="+$$.fjs.config.twitterShareWindowHeight+",menubar=no,location=no,toolbar=no,status=no";var f="https://twitter.com/intent/tweet?text="+escape($$.trim(b))+"&url="+escape(d)+"&hashtags="+a.join(",");window.open(f,"org.fjs.twitter.share",g);return $$.fjs.twitter}};$$.fjs.extendConfiguration({twitterShareWindowWidth:515,twitterShareWindowHeight:255});jQuery.fn.extend({linkifyUsers:function(a){jQuery(this).each(function(){$$.fjs.twitter.linkifyUsers(jQuery(this),a)});return jQuery(this)},hovercards:function(a){jQuery(this).each(function(){$.fjs.twitter.hovercards(jQuery(this),a)});return jQuery(this)}