function(){function createRequest(){var xhr=null;if(window.ActiveXObject){xhr=new ActiveXObject("Microsoft.XMLHTTP")}else if(window.XMLHttpRequest){xhr=new XMLHttpRequest()}return xhr}function getHead(url,cbSuccess,cbError){var xhr=createRequest();if(xhr){if(cbSuccess){if(typeof(xhr.onload)!="undefined"){xhr.onload=function(){(xhr.status=="200")?cbSuccess(this):(cbError||cbEmpty)();xhr=null}}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){(xhr.status=="200")?cbSuccess(this):(cbError||cbEmpty)();xhr=null}}}}xhr.open("HEAD",url,true);xhr.send(null)}else{(cbError||cbEmpty)()}}function cbEmpty(){};function sendRequest(url,cbSuccess,cbError){var xhr=createRequest();if(xhr){var iDataOffset=0;var iDataLen=0;if(cbSuccess){if(typeof(xhr.onload)!="undefined"){xhr.onload=function(){if(xhr.status=="200"||xhr.status=="206"||xhr.status=="0"){xhr.binaryResponse=xhr.responseText;xhr.fileSize=xhr.getResponseHeader("Content-Length");cbSuccess(xhr)}else{(cbError||cbEmpty)()}xhr=null}}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status=="200"||xhr.status=="206"||xhr.status=="0"){var oRes={status:xhr.status,binaryResponse:(typeof xhr.responseBody=="unknown"?xhr.responseBody:xhr.responseText,iDataOffset,iDataLen),fileSize:xhr.getResponseHeader("Content-Length")};cbSuccess(oRes)}else{(cbError||cbEmpty)()}xhr=null}}}}xhr.open("GET",url,true);xhr.overrideMimeType('text/plain; charset=x-user-defined');xhr.send(null)}else{(cbError||cbEmpty)()}}return function(url,cbSuccess,cbError){sendRequest(url,cbSuccess,cbError)}}