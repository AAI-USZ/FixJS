function(){YUITest.TestRunner._run();},0);}else{this._run();}},_handleError:function(d){if(this._waiting){this._resumeTest(function(){throw d;});}else{throw d;}},_runTest:function(g){var d=g.testObject,e=g.parent.testObject,h=e[d],f=d.indexOf("ignore:")===0||!c(e.groups,this._groups)||(e._should.ignore||{})[d];if(f){g.parent.results[d]={result:"ignore",message:"Test ignored",type:"test",name:d.indexOf("ignore:")===0?d.substring(7):d};g.parent.results.ignored++;g.parent.results.total++;this.fire({type:this.TEST_IGNORE_EVENT,testCase:e,testName:d});if(typeof setTimeout!="undefined"){setTimeout(function(){YUITest.TestRunner._run();},0);}else{this._run();}}else{g._start=new Date();this._execNonTestMethod(g.parent,"setUp",false);this._resumeTest(h);}},getName:function(){return this.masterSuite.name;},setName:function(d){this.masterSuite.name=d;},add:function(d){this.masterSuite.add(d);return this;},clear:function(){this.masterSuite=new YUITest.TestSuite("yuitests"+(new Date()).getTime());},isWaiting:function(){return this._waiting;},isRunning:function(){return this._running;},getResults:function(d){if(!this._running&&this._lastResults){if(typeof d=="function"){return d(this._lastResults);}else{return this._lastResults;}}else{return null;}},getCoverage:function(d){if(!this._running&&typeof _yuitest_coverage=="object"){if(typeof d=="function"){return d(_yuitest_coverage);}else{return _yuitest_coverage;}}else{return null;}},callback:function(){var f=arguments,e=this._context,d=this;return function(){for(var g=0;g<arguments.length;g++){e[f[g]]=arguments[g];}d._run();};},resume:function(d){if(this._waiting){this._resumeTest(d||function(){});}else{throw new Error("resume() called without wait().");}},run:function(e){e=e||{};var f=YUITest.TestRunner,d=e.oldMode;if(!d&&this.masterSuite.items.length==1&&this.masterSuite.items[0] instanceof YUITest.TestSuite){this.masterSuite=this.masterSuite.items[0];}f._groups=(e.groups instanceof Array)?","+e.groups.join(",")+",":"";f._buildTestTree();f._context={