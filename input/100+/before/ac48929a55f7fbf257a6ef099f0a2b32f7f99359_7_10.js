function ob(a,b,c){var d=new u,e=m,g,f,i,h,l,n,p,q,B;if(ca(a))d=a;else if(E(a))d=new u(a);else if(ka(a)){d=(new u).set(a,j);h=a}else if(F(a)){g=cb(b,j);a=nb(a);g&&J(g.xa(),function(C,A){var Da=a.match(A.Da);if(Da){i=A;f=i.Ba;h=mb(Da,i.to,f);f.qa=i;if(h.timestamp){h=h.timestamp;return m}if(i.Fa&&!F(h.month)&&(F(h.date)||g.za(b))){q=h.month;h.month=h.date;h.date=q}if(h.year&&h.Ga.length===2)h.year=O((new u).getFullYear()/100)*100-O(h.year/100)*100+h.year;if(h.month){h.month=f.getMonth(h.month);if(h.shift&&
!h.unit)h.unit=f.units[7]}if(h.weekday&&h.date)delete h.weekday;else if(h.weekday){h.weekday=f.ta(h.weekday);if(h.shift&&!h.unit)h.unit=f.units[5]}if(h.day&&(q=f.ia[h.day])){h.day=q.value;d.reset();e=j}else if(h.day&&(n=f.ta(h.day))>-1){delete h.day;if(h.num&&h.month){B=function(){pb(d,{weekday:n+7*(h.num-1)},m,m,m,1)};h.day=1}else h.weekday=n}if(h.date&&!E(h.date))h.date=f.ya(h.date);if(f.Ca(h["12hr"])&&h.hour<12)h.hour+=12;if("offset_hours"in h||"offset_minutes"in h){h.utc=j;h.offset_minutes=h.offset_minutes||
0;h.offset_minutes+=h.offset_hours*60;if(h.offset_sign==="-")h.offset_minutes*=-1;h.minute-=h.offset_minutes}if(h.unit){e=j;p=f.sa(h.num);l=f.wa(h.unit);if(h.shift||h.edge){p*=(q=f.ia[h.shift])?q.value:0;if(l==="month"&&L(h.date)){d.set({day:h.date},j);delete h.date}if(l==="year"&&L(h.month)){d.set({month:h.month,day:h.date},j);delete h.month;delete h.date}}if(h.sign&&(q=f.ia[h.sign]))p*=q.value;if(L(h.weekday)){d.set({weekday:h.weekday},j);delete h.weekday}h[l]=(h[l]||0)+p}if(h.year_sign==="-")h.year*=
-1;Wa.slice(1,4).forEach(function(qa,Ea){var ub=h[qa.$],vb=ub%1;if(vb){h[Wa[Ea].$]=O(vb*(qa.$==="second"?1E3:60));h[qa.$]=P(ub)}});return m}});if(i)if(e)d.advance(h);else{h.utc&&d.reset();pb(d,h,j,h.utc,m,c)}else d=a?new u(a):new u;if(h&&h.edge){q=f.ia[h.edge];J(Wa.slice(4),function(C,A){if(L(h[A.$])){l=A.$;return m}});if(l==="year")h.ha="month";else if(l==="month"||l==="week")h.ha="day";d[(q.value<0?"endOf":"beginningOf")+na(l)]();q.value===-2&&d.reset()}B&&B()}return{ea:d,set:h}}