function(a,b){function v(a){return a}function w(a,b){switch($(a)){case"array":break;case"string":a=a.split(".");break;default:return x(b)}p.test(a[0])&&(b=v,a.shift());if(!a.length)return x(b);a[0].indexOf("^")||(b||a[0]=="^"?a.shift():a[0]=a[0].substring(1)),b=x(b);var c;while(c=a.shift())b=b[c]||(b[c]=S());return b}function x(b){return e=="commonjs"?b?M(b)?b.exports:b:module.exports:b||a}function y(a){var b=Number(a),c;return isNaN(b)?(c=String(a))in i?i[c]:a:b}function z(a,b,c){c=c===!0,b||(b=a,a=S());for(var d in b)!I(b,d)||c&&I(a,d)||(a[d]=b[d]);return a}function A(a,c,d){var e=s.call(arguments,3),f=H(a,c),g,h,i,j;switch($(e[0])){case"string":h=n[e.shift()];break;case"object":h=e.shift();break;default:i=$(d),h=i!="object"&&f?Object.getOwnPropertyDescriptor(a,c):null,!h||(h=i=="function"?n.cw:n.cew)}return j=e.shift()===!0,g=e.shift()===!0,f&&!j?g&&new Error(b+".def cannot overwrite existing property: "+c+", in item type: "+_(a)+"."):(i!="object"&&h&&(d=C(d,h)),(d.get||d.set)&&delete d.writable,Object.defineProperty(a,c,d)),v}function B(a,b,c,d,e){c||(c="cw");for(var f in b)!I(b,f)||A(a,f,b[f],c,d,e);return v}function C(a,b){return z($(a)=="object"?a:{value:a},$(b)=="object"?b:n[String(b).toLowerCase()]||n.cew,!0)}function D(a){return!E(a)||!O(a)&&N(a)||!1}function E(a){return!(a===null||a===g||typeof a=="number"&&isNaN(a))}function F(b,d,f){typeof d!="string"&&b[c]&&(f=d,d=b[c]);if(e=="commonjs"&&M(f))f.exports=b;else{f||(f=a);var g=f[d],h=C({value:b},"ew");g&&N(g)?A(b=g,"__",h):A(f,d,h)}return f=S(),f[c]=d,f[__type__]="library",B(b,f,"w",!0),b}function G(a){return a.name||a.displayName||(String(a).match(q)||["",""])[1].trim()}function H(a,b){return arguments>2?J(H,a,Array.coerce(arguments,1)):b in Object(a)}function I(a,b){return arguments>2?J(I,a,Array.coerce(arguments,1)):f.hasOwnProperty.call(a,b)}function J(a,b,c){return c.some(function(c){return a(b,c)})}function K(a,b){return a?H(a,"id")?a.id:a.id=L(b):L(b)}function L(a){return(a||m)+ ++l}function M(a){if(h===null)return!1;try{return a instanceof h}catch(b){return!1}}function N(a){return H(a,"length")||$(a)=="object"}function O(a){return("length"in(a=Object(a))?a:Object.keys(a)).length}function P(a,b){var c;if(!b)switch(c=$(a)){case"array":case"object":b=a,a=new(b.constructor||Object);break;default:return a}else c=$(b);switch(c){case"object":return Object.keys(b).reduce(R,{source:b,target:a}).target;case"array":return a.length=b.length,b.reduce(Q,a);default:return b}}function Q(a,b,c){return a[c]=P(b),a}function R(a,b){return a.target[b]=P(a.source[b]),a}function S(a){var b=Object.create(null);return typeof a=="object"?z(b,a):b}function T(a,b){var c=[a];while(++a<=b)c.push(a);return c}function U(a,b){b=Array.isArray(b)?b:s.call(arguments,1);var c=Array.isArray(a)?V:W;return b.forEach(c,a),a}function V(a){var b=this.indexOf(a);b=~b?b:!isNaN(a)&&a in this?a:b,b<0||this.splice(b,1)}function W(a){delete this[a]}function X(a){return f.toString.call(a)}function Y(a){return f.valueOf.call(a)}function Z(a){return a==k?k:a==j||a=="nodelist"?j:!a.indexOf("htm")&&a.lastIndexOf("element")+7===a.length?"htmlelement":!1}function $(a){var b=X(a);return b in t?t[b]:t[b]=b.split(" ")[1].split("]")[0].replace(r,"$1").toLowerCase()}function _(a){return a===null||a===g?!1:H(a,__type__)?a[__type__]:Object.getPrototypeOf(a)===null?"nullobject":g}function ba(){return s.call(arguments).forEach(bc),v}function bb(a){a(this,v)}function bc(a){H(a,d)||A(a,d,0,"w");var b=u[a[c]||G(a)];if(!b)return;b.slice(a[d]).forEach(bb,a),a[d]=b.length}"use strict",typeof global=="undefined"?a:a=global;var c="__name__",__type__="__type__",d="__xid__",e=typeof module!="undefined"&&"exports"in module&&typeof require=="function"?"commonjs":typeof navigator!="undefined"?"browser":"other",f=Object.prototype,g,h=e!="commonjs"?null:require("module"),i=[!1,NaN,null,!0,g].reduce(function(a,b){return a[String(b)]=b,a},S()),j="htmlcollection",k="htmldocument",l=999,m="anon__",n=function(){var a={ce:"ec",cw:"wc",ew:"we",cew:"cwe ecw ewc wce wec".split(" ")},b="configurable enumerable writable".split(" "),c={c:[!0,!1,!1],ce:[!0,!0,!1],cew:[!0,!0,!0],cw:[!0,!1,!0],e:[!1,!0,!1],ew:[!1,!0,!0],r:[!1,!1,!1],w:[!1,!1,!0]},d=Object.keys(c).reduce(function(d,e){function f(a){d[a]=d[e]}var g=a[e];return d[e]=b.reduce(function(a,b,d){return a[b]=c[e][d],a},S()),!g||(Array.isArray(g)?g.forEach(f):f(g)),d},S());return delete d[g],d}(),o=/global|window/i,p=new RegExp("^\\u005E?"+b),q=/[\s\(]*function([^\(]+).*/,r=/^[Ww]ebkit|[Mm]oz|O|[Mm]s|[Kk]html(.*)$/,s=Array.prototype.slice,t={"[object Object]":"object"},u={Array:[],Boolean:[],Date:[],Function:[],Number:[],Object:[],RegExp:[],String:[]};A(ba,"cache",function(a,b){return typeof a=="string"||(a=a[c]||G(a)),u[a]||(u[a]=[]),u[a].push(b),v},"w"),ba.cache("Array",function(a){A(a,"coerce",function(a,b,c){return H(a,"length")?(b=_(b)=="number"?b>0?b:0:0,c=_(c)=="number"?c>b?c:c<=0?a.length+c:b+c:a.length,s.call(a,b,c)):[a]},"w"),A(a.prototype,"find",function(a,b){var c=-1,d=this.length>>>0;b||(b=this);while(++c<d)if(!!a.call(b,this[c],c,this))return this[c];return null},"w")}),ba.cache("Boolean",function(a){A(a,"coerce",function(a){switch(_(a)){case"boolean":return a;case"nan":case!1:return!1;case"number":case"string":return a in i?!!i[a]:Number(a)!==0}return!0},"w")}),ba.cache("Function",function(a){function b(a){return!a||a in g}function d(){return this.toString()}function e(){return this}var f="__xname__",g={Anonymous:!0,anonymous:!0},h={mimic:function(a,b){var c=a.valueOf();return B(this,{displayName:b||G(c),toString:d.bind(c),valueOf:e.bind(c)},"c",!0),this}};h[c]={get:function(){if(!this[f]){var a=this.valueOf(),d=a!==this?b(a[c])?null:a[c]:null,e=d||G(this);!b(e)||b(this.displayName)||(e=this.displayName),A(this,f,e||"anonymous","w")}return this[f]}},B(a.prototype,h,"w"),A(a,"anon_list",{value:g},"w")}),ba.cache("Object",function(a){A(a.prototype,__type__,z({get:function(){var a,b=this,d=b.constructor,e=$(b),f=Z(e)||(o.test(e)?"global":!1);return f?f:e=="number"?isNaN(b)?"nan":"number":e=="object"&&typeof d=="function"&&d[__type__]!="function"?(a=String(d[c]).toLowerCase(),!a||a=="anonymous"?d[__type__]||e:a):e}},n.r)),B(a,{key:function(b,c){return a.keys(a(b)).find(function(a){return b[a]===c})},reduce:function(b,c,d){return a.keys(a(b)).reduce(function(a,d,e){return a=c.call(b,a,b[d],d,b,e),a},d)},value:function(b,c){if(isNaN(c)){if(H(b,c))return b[c];if(!!~c.indexOf(".")){var d;c=c.split(".");while(d=c.shift())if((b=a.value(b,d))===g)break;return b}}return D(b)?g:E(b[c])?b[c]:typeof b.get=="function"?b.get(c):typeof b.getAttribute=="function"?b.getAttribute(c):g},values:function(b){return a.keys(Object(b)).map(function(a){return b[a]})}},"w")}),B(v=F(v,b,e=="commonjs"?module:a),{ENV:e,global:{value:a},modes:{value:n},bless:w,coerce:y,copy:z,def:A,defs:B,describe:C,empty:D,exists:E,expose:F,got:H,has:I,id:K,iter:N,len:O,merge:P,nativeType:$,noop:function(){},obj:S,range:T,remove:U,tostr:X,type:_,valof:Y,x:ba},"w"),ba(Object,Array,Boolean,Function)}