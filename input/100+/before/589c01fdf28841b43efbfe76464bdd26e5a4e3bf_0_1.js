function(a){a.fn.styledSelectBox=function(b){var g={styled_select_id:null,image_base:null,classes:[],widget_height:null,include_separator_border:true};b=a.extend(g,b);var f=this;var e=null;var d=null;var c=null;this.initStyledSelectBox=function(){if(b.styled_select_id==null){alert('StyledSelectBox widget: no "styled_select_id" option was passed.');return}if(b.image_base==null){alert("StyledSelectBox widget: no image base specified.");return}e=a("<div class='styled_select' id='"+b.styled_select_id+"'></div>");d=a("<div class='styled_select_option_display'></div");c=a("<span class='styled_select_arrow'>&nbsp;</span>").css({backgroundImage:"url("+b.image_base+"/small-arrow.png)"});if(b.include_separator_border){var h=e.css("border-left-width")+" "+e.css("border-left-style")+" "+e.css("border-left-color");c.css({borderLeft:h})}e.append(d).append(c);f.addClass("original_select_now_styled");e.css({width:f.outerWidth()+"px"});d.css({width:(parseInt(e.innerWidth()-c.outerWidth()))+"px"});if(b.widget_height!=null){f.css({height:b.widget_height+"px",lineHeight:(parseInt(b.widget_height)-2)+"px"});e.css({height:b.widget_height+"px"});d.css({height:b.widget_height+"px"});if(a.browser.msie&&parseInt(a.browser.version)<=8){e.css({lineHeight:b.widget_height+"px"})}else{e.css({lineHeight:(parseInt(b.widget_height)-2)+"px"})}}else{d.css({height:f.height()+"px"})}if(b.classes.length>0){for(var j=0;j<b.classes.length;j++){e.addClass(b.classes[j])}}f.after(e);f.on("change",this.setCurrentSelectedText);this.setCurrentSelectedText()};this.setCurrentSelectedText=function(h){var k=f.get(0);var i=f.find("option");var j=i[k.selectedIndex];if(j!=null){e.find("div.styled_select_option_display").html(j.text)}f.blur()};this.initStyledSelectBox();return this}}