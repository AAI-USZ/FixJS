function(e,j,h){e.Scrollment=new function(){this.$w=e(j);this.i=!1;this.u=0;this.a={};this.s=[];this.fa=function(){this.i||(this.$w.bind("scroll.scrollment",e.proxy(this.ff,this)),setTimeout(e.proxy(this.ff,this),0));return this.i=!0};this.fb=function(b,c){var a=this;b.each(function(){var b={$e:e(this),s:e.extend({forceStart:!1},c),g:function(a){var b=function(a){return this.s[a]},c=function(a){return this.s[a].apply(this.$e)};return"function"===typeof this.s[a]?c.apply(this,[a]):b.apply(this,[a])},c:function(a,b){var c=function(a,b){return this.s.css[a][b]},d=function(a,b){return this.s.css[a][b].apply(this.$e)};return"function"===typeof this.s.css[a][b]?d.apply(this,[a,b]):c.apply(this,[a,b])},t:function(a,b){"function"===typeof this.s[a]&&this.s[a].apply(this.$e,Array.prototype.slice.call(arguments,1))},d:{s:!0,f:!0,e:!0}},i=b.g("id")||"scrollment-"+ ++a.u,f=b.$e.data("scrollment-ids");f===h?f=[i]:f.push(i);b.$e.data("scrollment-ids",f);if(!0===b.g("forceStart")){var g={};e.each(b.g("css"),function(a){g[a]=b.c(a,"start")});b.$e.css(g)}a.a[i]=b})};this.fc=function(b,c){var a=b.data("scrollment-ids");if(a===h)return b;c===h?c=a:"[object Array]"!==Object.prototype.toString.call(c)&&(c=[c]);for(var d=0;d<c.length;d++)delete this.a[c[d]],a.remove(c[d]);this.fe()};this.fd=function(b,c,a){var d=b.data("scrollment-ids");if(d===h)return b;c===h?c=d:"[object Array]"!==Object.prototype.toString.call(c)&&(c=[c]);for(b=0;b<id.length;b++)this.a[c[b]].d.e=a};this.fe=function(b){var c=this,b=b||this.$w.scrollTop();c.s=[];e.each(c.a,function(a,d){var e=d.g("start"),f=d.g("stop");(b>=e&&b<=f||d.d.s)&&c.s.push(a)})};this.ff=function(){for(var b=this.$w.scrollTop(),c=0;c<this.s.length;c++){var a=this.a[this.s[c]],d=a.g("start"),i=a.g("stop"),f=Math.abs(i-d),g=b-d,d=e.extend({easing:"swing"},a.g("animation")),i="number"===typeof d.duration,h={};if(!1!==a.d.e)if(0>g?g=0:g>f&&(g=f),e.each(a.g("css"),function(b){var c=a.c(b,"start"),d=a.c(b,"stop"),e=Math.abs(c-d)/f*g;c>d&&(e=-e);h[b]=c+e}),i&&!0!==a.d.f?a.$e.stop(!1,!1).animate(h,d.duration,d.easing):(a.$e.css(h),a.d.f=!1),a.d.s){if(a.t("onScroll",g,f),0==g||g==f)a.t("onStop",g,f),a.d.s=!1}else a.t("onStart",g,f),a.d.s=!0,a.t("onScroll",g,f)}this.fe(b)}};e.fn.scrollment=function(b,c){var a=this;if("string"===typeof b){switch(b){case "enable":e.Scrollment.fd(a,c,!0);break;case "disable":e.Scrollment.fd(a,c,!1);break;case "remove":e.Scrollment.fc(a,c)}return a}"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);e.each(b,function(b,c){e.Scrollment.fb(a,c)});e.Scrollment.fa();return a};Array.prototype.remove=function(){for(var b,c=arguments,a=c.length,d;a&&this.length;)for(b=c[--a];-1!=(d=this.indexOf(b));)this.splice(d,1);return this};Array.prototype.indexOf=function(b,c){for(var c=c||0,a=this.length;c<a;){if(this[c]===b)return c;++c}return-1}}