f(c=d._proxy[a]);h.resolve(c)}).fail(function(){h.reject("OnDemand failed to load script "+c)})}return h.promise()};b.setOptions=function(a){this.options=e.extend({},c,a)};b.resetOptions=function(){this.options=e.extend({},c,{})};b.preload=function(a){this.firstLoad(a)};b.invoke=function(a,b,c){return this.firstLoad(a,b,c)};b.use=function(a){return firstLoad(a)};b.register=function(a,b){if(g(b)||i(b))d._proxy[a]=b};b.registerAll=function(a){for(var b in a)a.hasOwnProperty(b)&&this.register(b,a[b])};
