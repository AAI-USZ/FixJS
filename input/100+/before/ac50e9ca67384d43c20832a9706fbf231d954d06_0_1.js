function VirtualSky(input){

	this.version = "0.3.9";

	this.ie = false;
	this.excanvas = (typeof G_vmlCanvasManager != 'undefined') ? true : false;
	/*@cc_on
	this.ie = true
	@*/

	this.id = '';					// The ID of the canvas/div tag - if none given it won't display
	this.gradient = true;				// Show the sky gradient
	this.magnitude = 5;				// Limit for stellar magnitude
	this.background = "rgba(0,0,0,0)";		// Default background colour is transparent
	this.color = "";				// Default background colour is chosen automatically
	this.wide = 0;					// Default width if not set in the <canvas> <div> or input argument
	this.tall = 0;

	// Set location on the Earth
	this.longitude = -119.86286;
	this.latitude = 34.4326;

	// Toggles
	this.spin = false;
	this.cardinalpoints = true;			// Display N, E, S and W.
	this.constellations = false;			// Draw the constellation lines
	this.constellationlabels = false;		// Display the constellation name labels
	this.negative = false;				// Invert colours to make it better for printing
	this.showstars = true;				// Display current positions of the stars
	this.showstarlabels = false;		// Display names for named stars
	this.showplanets = true;			// Display current positions of the planets
	this.showplanetlabels = true;		// Display names for planets
	this.showorbits = false;			// Display the orbital paths of the planets
	this.showdate = true;				// Display the current date
	this.showposition = true;			// Display the longitude/latitude
	this.ground = false;
	this.gridlines_az = false;
	this.gridlines_eq = false;
	this.gridstep = 30;
	this.keyboard = true;				// Allow keyboard controls
	this.mouse = true;				// Allow mouse controls
	this.islive = false;				// Update the sky in real time
	this.fullscreen = false;			// Should it take up the full browser window
	this.transparent = false;			// Show the sky background or not
	this.callback = {geo:'',mouseenter:'',mouseout:''};

	// Data for stars < mag 4 or that are a vertex for a constellation line - 19 kB
	this.stars = [[677,2.07,2.097,29.09],[746,2.28,2.295,59.15],[765,3.88,2.353,-45.75],[1067,2.83,3.309,15.18],[1562,3.56,4.857,-8.824],[1599,4.23,5.018,-64.87],[1645,5.35,5.149,8.1903],[2021,2.82,6.438,-77.25],[2072,3.93,6.551,-43.68],[2081,2.40,6.571,-42.31],[2484,4.36,7.886,-62.96],[3092,3.27,9.832,30.86],[3179,2.24,10.13,56.54],[3419,2.04,10.9,-17.99],[3760,5.35,12.073,7.3],[3821,3.46,12.28,57.82],[3881,4.53,12.45,41.08],[4427,2.15,14.18,60.72],[4436,3.86,14.19,38.5],[4577,4.30,14.65,-29.36],[4906,4.27,15.74,7.89],[5165,3.32,16.52,-46.72],[5348,3.94,17.1,-55.25],[5364,3.46,17.15,-10.18],[5447,2.07,17.43,35.62],[5742,4.67,18.44,24.58],[6193,4.74,19.87,27.26],[6537,3.60,21.01,-8.183],[6686,2.66,21.45,60.24],[6867,3.41,22.09,-43.32],[7007,4.84,22.55,6.144],[7083,3.93,22.81,-49.07],[7097,3.62,22.87,15.35],[7588,0.45,24.43,-57.24],[7884,4.45,25.36,5.488],[8102,3.49,26.02,-15.94],[8198,4.26,26.35,9.158],[8645,3.74,27.87,-10.34],[8796,3.42,28.27,29.58],[8832,3.88,28.38,19.29],[8833,4.61,28.39,3.188],[8837,4.39,28.41,-46.3],[8886,3.35,28.6,63.67],[8903,2.64,28.66,20.81],[9007,3.69,28.99,-51.61],[9236,2.86,29.69,-61.57],[9487,3.82,30.51,2.764],[9640,2.10,30.97,42.33],[9884,2.01,31.79,23.46],[10064,3.00,32.39,34.99],[10324,4.36,33.25,8.847],[10602,3.56,34.13,-51.51],[10826,6.45,34.8366,-2.9776],[11001,4.08,35.44,-68.66],[11345,4.88,36.49,-12.29],[11407,4.24,36.75,-47.7],[11484,4.30,37.04,8.46],[11767,1.97,37.95,89.26],[11783,4.74,38.02,-15.24],[12093,4.87,38.97,5.593],[12387,4.08,39.87,0.3285],[12390,4.83,39.89,-11.87],[12394,4.12,39.9,-68.27],[12413,4.74,39.95,-42.89],[12486,4.11,40.17,-39.86],[12706,3.47,40.83,3.236],[12770,4.24,41.03,-13.86],[12828,4.27,41.24,10.11],[12843,4.47,41.28,-18.57],[13147,4.45,42.27,-32.41],[13209,3.61,42.5,27.26],[13254,4.22,42.65,38.32],[13268,3.77,42.67,55.9],[13701,3.89,44.11,-8.898],[13847,2.88,44.57,-40.3],[13954,4.71,44.93,8.907],[14135,2.54,45.57,4.09],[14146,4.08,45.6,-23.62],[14328,2.91,46.2,53.51],[14354,3.32,46.29,38.84],[14576,2.09,47.04,40.96],[14879,3.80,48.02,-28.99],[15197,4.80,48.96,-8.82],[15474,3.70,49.88,-21.76],[15510,4.26,49.98,-43.07],[15863,1.79,51.08,49.86],[15900,3.61,51.2,9.029],[16228,4.21,52.27,59.94],[16537,3.72,53.23,-9.458],[16611,4.26,53.45,-21.63],[17358,3.01,55.73,47.79],[17378,3.52,55.81,-9.763],[17440,3.84,56.05,-64.81],[17448,3.84,56.08,32.29],[17651,4.22,56.71,-23.25],[17678,3.26,56.81,-74.24],[17702,2.85,56.87,24.11],[17797,4.30,57.15,-37.62],[17847,3.62,57.29,24.05],[17874,4.17,57.36,-36.2],[17959,4.59,57.59,71.33],[18246,2.84,58.53,31.88],[18505,4.95,59.36,63.07],[18532,2.90,59.46,40.01],[18543,2.97,59.51,-13.51],[18597,4.56,59.69,-61.4],[18614,3.98,59.74,35.79],[18724,3.41,60.17,12.49],[19747,3.85,63.5,-42.29],[19780,3.33,63.61,-62.47],[19893,4.26,64.01,-51.49],[19921,4.44,64.12,-59.3],[20042,3.55,64.47,-33.8],[20205,3.65,64.95,15.63],[20455,3.77,65.73,17.54],[20535,3.97,66.01,-34.02],[20648,4.30,66.37,17.93],[20889,3.53,67.15,19.18],[20894,3.40,67.17,15.87],[21281,3.30,68.5,-55.04],[21393,3.81,68.89,-30.56],[21421,0.87,68.98,16.51],[21444,3.93,69.08,-3.352],[21594,3.86,69.55,-14.3],[21770,4.44,70.14,-41.86],[21881,4.27,70.56,22.96],[22109,4.01,71.38,-3.255],[22449,3.19,72.46,6.961],[22509,4.35,72.65,8.9],[22549,3.68,72.8,5.605],[22701,4.36,73.22,-5.453],[22730,5.3,73.345,2.508],[22783,4.26,73.51,66.34],[22845,4.64,73.72,10.15],[23015,2.69,74.25,33.17],[23123,4.47,74.64,1.714],[23416,3.03,75.49,43.82],[23453,3.69,75.62,41.08],[23685,3.19,76.37,-22.37],[23767,3.18,76.63,41.23],[23875,2.78,76.96,-5.086],[23972,4.25,77.29,-8.754],[24244,4.45,78.07,-11.87],[24305,3.29,78.23,-16.21],[24327,4.36,78.31,-12.94],[24436,0.18,78.63,-8.202],[24608,0.08,79.17,46],[24845,4.29,79.89,-13.18],[25110,5.05,80.6397,79.231],[25281,3.35,81.12,-2.397],[25336,1.64,81.28,6.35],[25428,1.65,81.57,28.61],[25606,2.81,82.06,-20.76],[25859,3.86,82.8,-35.47],[25930,2.25,83,-0.2991],[25985,2.58,83.18,-17.82],[26069,3.76,83.41,-62.49],[26207,3.39,83.78,9.934],[26241,2.75,83.86,-5.91],[26311,1.69,84.05,-1.202],[26451,2.97,84.41,21.14],[26634,2.65,84.91,-34.07],[26727,1.74,85.19,-1.943],[27072,3.59,86.12,-22.45],[27100,4.34,86.19,-65.74],[27288,3.55,86.74,-14.82],[27321,3.85,86.82,-51.07],[27366,2.07,86.94,-9.67],[27530,4.50,87.46,-56.17],[27628,3.12,87.74,-35.77],[27654,3.76,87.83,-20.88],[27890,4.65,88.53,-63.09],[27913,4.39,88.6,20.28],[27989,0.45,88.79,7.407],[28103,3.71,89.1,-14.17],[28199,4.36,89.38,-35.28],[28328,3.96,89.79,-42.82],[28360,1.90,89.88,44.95],[28380,2.65,89.93,37.21],[28614,4.12,90.6,9.647],[28734,4.16,91.03,23.26],[28910,4.67,91.54,-14.94],[29038,4.42,91.89,14.77],[29426,4.45,92.98,14.21],[29651,3.99,93.71,-6.275],[29655,3.31,93.72,22.51],[29807,4.37,94.14,-35.14],[30060,4.44,94.91,59.01],[30122,3.02,95.08,-30.06],[30277,3.85,95.53,-33.44],[30324,1.98,95.67,-17.96],[30343,2.87,95.74,22.51],[30419,4.39,95.94,4.593],[30438,-0.62,95.99,-52.7],[30867,3.76,97.2,-7.033],[30883,4.13,97.24,20.21],[31416,4.54,98.76,-22.96],[31592,3.95,99.17,-19.26],[31681,1.93,99.43,16.4],[31685,3.17,99.44,-43.2],[32246,3.06,101,25.13],[32349,-1.44,101.3,-16.72],[32362,3.35,101.3,12.9],[32607,3.24,102,-61.94],[32759,3.50,102.5,-32.51],[32768,2.94,102.5,-50.61],[33018,3.60,103.2,33.96],[33160,4.08,103.5,-12.04],[33347,4.36,104,-17.05],[33449,4.35,104.3,58.42],[33579,1.50,104.7,-28.97],[33856,3.49,105.4,-27.93],[33977,3.02,105.8,-23.83],[34045,4.11,105.9,-15.63],[34088,4.01,106,20.57],[34444,1.83,107.1,-26.39],[34481,3.78,107.2,-70.5],[34693,4.41,107.8,30.25],[34769,4.15,108,-0.4928],[35037,4.01,108.7,-26.77],[35228,3.97,109.2,-67.96],[35264,2.71,109.3,-37.1],[35350,3.58,109.5,16.54],[35550,3.50,110,21.98],[35904,2.45,111,-29.3],[36046,3.78,111.4,27.8],[36145,4.61,111.7,49.21],[36188,2.89,111.8,8.289],[36377,3.25,112.3,-43.3],[36850,1.58,113.6,31.89],[36962,4.06,114,26.9],[37279,0.40,114.8,5.225],[37447,3.94,115.3,-9.551],[37504,3.93,115.5,-72.61],[37740,3.57,116.1,24.4],[37826,1.16,116.3,28.03],[38170,3.34,117.3,-24.86],[38827,3.46,119.2,-52.98],[39429,2.21,120.9,-40],[39757,2.83,121.9,-24.3],[39794,4.35,122,-68.62],[39863,4.36,122.1,-2.984],[39953,1.75,122.4,-47.34],[40526,3.53,124.1,9.186],[40702,4.05,124.6,-76.92],[41037,1.86,125.6,-59.51],[41075,4.25,125.7,43.19],[41312,3.77,126.4,-66.14],[41704,3.35,127.6,60.72],[42313,4.14,129.4,5.704],[42402,4.45,129.7,3.341],[42515,3.97,130,-35.31],[42536,3.60,130.1,-52.92],[42568,4.31,130.2,-59.76],[42799,4.30,130.8,3.399],[42806,4.66,130.8,21.47],[42828,3.68,130.9,-33.19],[42911,3.94,131.2,18.15],[42913,1.93,131.2,-54.71],[43103,4.03,131.7,28.76],[43109,3.38,131.7,6.419],[43234,4.35,132.1,5.838],[43409,4.02,132.6,-27.71],[43813,3.11,133.8,5.946],[44066,4.26,134.6,11.86],[44127,3.12,134.8,48.04],[44248,3.96,135.2,41.78],[44382,4.00,135.6,-66.4],[44471,3.57,135.9,47.16],[44700,4.56,136.6,38.45],[44816,2.23,137,-43.43],[45080,3.43,137.7,-58.97],[45238,1.67,138.3,-69.72],[45336,3.89,138.6,2.314],[45556,2.21,139.3,-59.28],[45688,3.82,139.7,36.8],[45860,3.14,140.3,34.39],[45941,2.47,140.5,-55.01],[46390,1.99,141.9,-8.659],[46509,4.59,142.3,-2.769],[46651,3.60,142.7,-40.47],[46701,3.16,142.8,-57.03],[46733,3.65,142.9,63.06],[46776,4.54,143,-1.185],[46853,3.17,143.2,51.68],[46952,4.54,143.6,36.4],[47908,2.97,146.5,23.77],[48002,2.92,146.8,-65.07],[48319,3.78,147.7,59.04],[48356,4.11,147.9,-14.85],[48402,4.55,148,54.06],[48455,3.88,148.2,26.01],[48774,3.52,149.2,-54.57],[49583,3.48,151.8,16.76],[49593,4.49,151.9,35.24],[49641,4.48,152,-0.3716],[49669,1.36,152.1,11.97],[49841,3.61,152.6,-12.35],[50099,3.29,153.4,-70.04],[50191,3.85,153.7,-42.12],[50335,3.43,154.2,23.42],[50371,3.39,154.3,-61.33],[50372,3.45,154.3,42.91],[50583,2.01,155,19.84],[50801,3.06,155.6,41.5],[51069,3.83,156.5,-16.84],[51172,4.28,156.8,-31.07],[51232,3.81,157,-58.74],[51233,4.20,157,36.71],[51576,3.30,158,-61.69],[51839,4.11,158.9,-78.61],[51986,3.84,159.3,-48.23],[52419,2.74,160.7,-64.39],[52468,4.58,160.9,-60.57],[52727,2.69,161.7,-49.42],[52943,3.11,162.4,-16.19],[53229,3.79,163.3,34.21],[53253,3.78,163.4,-58.85],[53740,4.08,164.9,-18.3],[53910,2.34,165.5,56.38],[54061,1.81,165.9,61.75],[54463,3.93,167.1,-58.98],[54539,3.00,167.4,44.5],[54682,4.46,167.9,-22.83],[54872,2.56,168.5,20.52],[54879,3.33,168.6,15.43],[55219,3.49,169.6,33.09],[55282,3.56,169.8,-14.78],[55687,4.81,171.2,-10.86],[55705,4.06,171.2,-17.68],[56211,3.82,172.9,69.33],[56343,3.54,173.3,-31.86],[56480,4.62,173.7,-54.26],[56561,3.11,173.9,-63.02],[56633,4.70,174.2,-9.802],[57283,4.71,176.2,-18.35],[57363,3.63,176.4,-66.73],[57380,4.04,176.5,6.529],[57399,3.69,176.5,47.78],[57632,2.14,177.3,14.57],[57936,4.29,178.2,-33.91],[58001,2.41,178.5,53.69],[59196,2.58,182.1,-50.72],[59199,4.02,182.1,-24.73],[59316,3.02,182.5,-22.62],[59747,2.79,183.8,-58.75],[59774,3.32,183.9,57.03],[59803,2.58,184,-17.54],[60000,4.24,184.6,-79.31],[60718,0.77,186.6,-63.1],[60742,4.35,186.7,28.27],[60823,3.91,187,-50.23],[60965,2.94,187.5,-16.52],[61084,1.59,187.8,-57.11],[61174,4.30,188,-16.2],[61199,3.84,188.1,-72.13],[61281,3.85,188.4,69.79],[61317,4.24,188.4,41.36],[61359,2.65,188.6,-23.4],[61585,2.69,189.3,-69.14],[61932,2.20,190.4,-48.96],[61941,2.74,190.4,-1.449],[62322,3.04,191.6,-68.11],[62434,1.25,191.9,-59.69],[62956,1.76,193.5,55.96],[63090,3.39,193.9,3.397],[63125,2.89,194,38.32],[63608,2.85,195.5,10.96],[64166,4.94,197.3,-23.12],[64241,4.32,197.5,17.53],[64394,4.23,198,27.88],[64962,2.99,199.7,-23.17],[65109,2.75,200.1,-36.71],[65378,2.23,201,54.93],[65474,0.98,201.3,-11.16],[65936,3.90,202.8,-39.41],[66249,3.38,203.7,-0.5958],[66657,2.29,205,-53.47],[67301,1.85,206.9,49.31],[67459,4.05,207.4,15.8],[67464,3.41,207.4,-41.69],[67472,3.47,207.4,-42.47],[67927,2.68,208.7,18.4],[68002,2.55,208.9,-47.29],[68282,3.87,209.7,-44.8],[68520,4.23,210.4,1.545],[68702,0.61,211,-60.37],[68756,3.67,211.1,64.38],[68895,3.25,211.6,-26.68],[68933,2.06,211.7,-36.37],[69427,4.18,213.2,-10.27],[69673,-0.05,213.9,19.18],[69701,4.07,214,-6.001],[70576,4.33,216.5,-45.38],[70638,4.31,216.7,-83.67],[71053,3.57,218,30.37],[71075,3.04,218,38.31],[71352,2.33,218.9,-42.16],[71536,4.05,219.5,-49.43],[71681,1.35,219.9,-60.84],[71683,-0.01,219.9,-60.83],[71795,3.78,220.3,13.73],[71860,2.30,220.5,-47.39],[71908,3.18,220.6,-64.98],[71957,3.87,220.8,-5.658],[72105,2.35,221.2,27.07],[72220,3.73,221.6,1.893],[72370,3.83,222,-79.04],[72607,2.07,222.7,74.16],[72622,2.75,222.7,-16.04],[73273,2.68,224.6,-43.13],[73334,3.13,224.8,-42.1],[73555,3.49,225.5,40.39],[73714,3.25,226,-25.28],[74395,3.41,228.1,-52.1],[74666,3.46,228.9,33.31],[74785,2.61,229.3,-9.383],[74824,4.07,229.4,-58.8],[74946,2.87,229.7,-68.68],[75097,3.00,230.2,71.83],[75141,3.22,230.3,-40.65],[75177,3.57,230.5,-36.26],[75264,3.37,230.7,-44.69],[75323,4.48,230.8,-59.32],[75458,3.29,231.2,58.97],[75695,3.66,232,29.11],[76127,4.14,233.2,31.36],[76267,2.22,233.7,26.71],[76276,3.80,233.7,10.54],[76297,2.80,233.8,-41.17],[76333,3.91,233.9,-14.79],[76552,4.34,234.5,-42.57],[76952,3.81,235.7,26.3],[77055,4.29,236,77.79],[77070,2.63,236.1,6.426],[77233,3.65,236.5,15.42],[77450,4.09,237.2,18.14],[77512,4.59,237.4,26.07],[77516,3.54,237.4,-3.43],[77622,3.71,237.7,4.478],[77634,3.97,237.7,-33.63],[77760,4.60,238.2,42.45],[77853,4.13,238.5,-16.73],[77952,2.83,238.8,-63.43],[78072,3.85,239.1,15.66],[78159,4.14,239.4,26.88],[78265,2.89,239.7,-26.11],[78384,3.42,240,-38.4],[78401,2.29,240.1,-22.62],[78493,4.98,240.4,29.85],[78527,4.01,240.5,58.57],[78639,4.65,240.8,-49.23],[78820,2.56,241.4,-19.81],[78970,5.7,241.8175,-36.756],[79509,4.95,243.4,-54.63],[79593,2.73,243.6,-3.694],[79822,4.95,244.4,75.76],[79882,3.23,244.6,-4.693],[79992,3.91,244.9,46.31],[80000,4.01,245,-50.16],[80112,2.90,245.3,-25.59],[80170,3.74,245.5,19.15],[80331,2.73,246,61.51],[80582,4.46,246.8,-47.55],[80763,1.06,247.4,-26.43],[80816,2.78,247.6,21.49],[81065,3.86,248.4,-78.9],[81126,4.20,248.5,42.44],[81266,2.82,249,-28.22],[81377,2.54,249.3,-10.57],[81693,2.81,250.3,31.6],[81833,3.48,250.7,38.92],[81852,4.23,250.8,-77.52],[82080,4.21,251.5,82.04],[82273,1.91,252.2,-69.03],[82363,3.77,252.4,-59.04],[82396,2.29,252.5,-34.29],[82514,3.00,253,-38.05],[82671,4.70,253.5,-42.36],[83000,3.19,254.4,9.375],[83081,3.12,254.7,-55.99],[83207,3.92,255.1,30.93],[83895,3.17,257.2,65.71],[84012,2.43,257.6,-15.72],[84143,3.32,258,-43.24],[84345,2.78,258.7,14.39],[84379,3.12,258.8,24.84],[84380,3.16,258.8,36.81],[84606,4.64,259.4,37.29],[84880,4.32,260.2,-12.85],[84970,3.27,260.5,-25],[85112,4.15,260.9,37.15],[85258,2.84,261.3,-55.53],[85267,3.31,261.3,-56.38],[85670,2.79,262.6,52.3],[85693,4.41,262.7,26.11],[85696,2.70,262.7,-37.3],[85727,3.60,262.8,-60.68],[85755,4.78,262.9,-23.96],[85792,2.84,263,-49.88],[85822,4.35,263.1,86.59],[85829,4.86,263.1,55.17],[85927,1.62,263.4,-37.1],[86032,2.08,263.7,12.56],[86228,1.86,264.3,-43],[86263,3.54,264.4,-15.4],[86414,3.82,264.9,46.01],[86565,4.24,265.4,-12.88],[86670,2.39,265.6,-39.03],[86742,2.76,265.9,4.567],[86929,3.61,266.4,-64.72],[86974,3.42,266.6,27.72],[87072,4.53,266.9,-27.83],[87073,2.99,266.9,-40.13],[87261,3.19,267.5,-37.04],[87585,3.73,268.4,56.87],[87808,3.86,269.1,37.25],[87833,2.24,269.2,51.49],[87933,3.70,269.4,29.25],[88048,3.32,269.8,-9.774],[88635,2.98,271.5,-30.42],[88714,3.65,271.7,-50.09],[88794,3.84,271.9,28.76],[88866,4.33,272.1,-63.67],[89341,3.84,273.4,-21.06],[89642,3.10,274.4,-36.76],[89931,2.72,275.2,-29.83],[89937,3.55,275.3,72.73],[89962,3.23,275.3,-2.899],[90098,4.35,275.8,-61.49],[90185,1.79,276,-34.38],[90422,3.49,276.7,-45.97],[90496,2.82,277,-25.42],[90568,4.10,277.2,-49.07],[90595,4.67,277.3,-14.57],[91117,3.85,278.8,-8.244],[91262,0.03,279.2,38.78],[91792,4.01,280.8,-71.43],[91971,4.34,281.2,37.61],[92041,3.17,281.4,-26.99],[92175,4.22,281.8,-4.748],[92202,5.35,281.8706,-5.705],[92420,3.52,282.5,33.36],[92609,4.22,283.1,-62.19],[92791,4.22,283.6,36.9],[92814,5.05,283.6796,-15.603],[92855,2.05,283.8,-26.3],[92946,4.62,284.1,4.204],[93015,4.40,284.2,-67.23],[93085,3.52,284.4,-21.11],[93174,4.83,284.7,-37.11],[93194,3.25,284.7,32.69],[93244,4.02,284.9,15.07],[93506,2.60,285.7,-29.88],[93542,4.74,285.8,-42.1],[93683,3.76,286.2,-21.74],[93747,2.99,286.4,13.86],[93805,3.43,286.6,-4.883],[93825,4.23,286.6,-37.06],[93864,3.32,286.7,-27.67],[94005,4.57,287.1,-40.5],[94114,4.11,287.4,-37.9],[94141,2.88,287.4,-21.02],[94160,4.10,287.5,-39.34],[94376,3.07,288.1,67.66],[94779,3.80,289.3,53.37],[94820,4.88,289.4,-18.95],[95168,3.92,290.4,-17.85],[95294,4.27,290.8,-44.8],[95347,3.96,291,-40.62],[95501,3.36,291.4,3.115],[95771,4.44,292.2,24.66],[95853,3.76,292.4,51.73],[95947,3.05,292.7,27.96],[96406,5.6,294.0069,-24.719],[96757,4.39,295,18.01],[96837,4.39,295.3,17.48],[97165,2.86,296.2,45.13],[97278,2.72,296.6,10.61],[97365,3.68,296.8,18.53],[97433,3.84,297,70.27],[97649,0.76,297.7,8.868],[97804,3.87,298.1,1.006],[98032,4.12,298.8,-41.87],[98036,3.71,298.8,6.407],[98110,3.89,299.1,35.08],[98337,3.51,299.7,19.49],[98412,4.37,299.9,-35.28],[98495,3.97,300.1,-72.91],[98543,4.66,300.3,27.75],[98688,4.43,300.7,-27.71],[99240,3.55,302.2,-66.18],[99473,3.24,302.8,-0.8215],[100064,3.58,304.5,-12.54],[100345,3.05,305.3,-14.78],[100453,2.23,305.6,40.26],[100751,1.94,306.4,-56.74],[101421,4.03,308.3,11.3],[101769,3.64,309.4,14.6],[101772,3.11,309.4,-47.29],[101958,3.77,309.9,15.91],[102098,1.25,310.4,45.28],[102281,4.43,310.9,15.07],[102395,3.42,311.2,-66.2],[102422,3.41,311.3,61.84],[102485,4.13,311.5,-25.27],[102488,2.48,311.6,33.97],[102532,4.27,311.7,16.12],[102618,3.78,311.9,-9.496],[102831,4.89,312.5,-33.78],[102978,4.12,313,-26.92],[103227,3.67,313.7,-58.45],[103738,4.67,315.3,-32.26],[104139,4.08,316.5,-17.23],[104521,4.70,317.6,10.13],[104732,3.21,318.2,30.23],[104858,4.47,318.6,10.01],[104987,3.92,319,5.248],[105140,4.71,319.5,-32.17],[105199,2.45,319.6,62.59],[105319,4.39,320,-53.45],[105515,4.28,320.6,-16.83],[105570,5.15,320.723,6.811],[105858,4.21,321.6,-65.37],[105881,3.77,321.7,-22.41],[106032,3.23,322.2,70.56],[106278,2.90,322.9,-5.571],[106985,3.69,325,-16.66],[107089,3.73,325.4,-77.39],[107310,4.49,326,28.74],[107315,2.38,326,9.875],[107354,4.14,326.2,25.65],[107556,2.85,326.8,-16.13],[108085,3.00,328.5,-37.36],[109074,2.95,331.4,-0.3199],[109111,4.47,331.5,-39.54],[109139,4.29,331.6,-13.87],[109176,3.77,331.8,25.35],[109268,1.73,332.1,-46.96],[109422,4.94,332.5,-32.55],[109427,3.52,332.5,6.198],[109492,3.39,332.7,58.2],[109937,4.14,334,37.75],[110003,4.17,334.2,-7.783],[110130,2.87,334.6,-60.26],[110395,3.86,335.4,-1.387],[110538,4.42,335.9,52.23],[110609,4.55,336.1,49.48],[110960,3.65,337.2,-0.01997],[110997,3.97,337.3,-43.5],[111022,4.34,337.4,47.71],[111104,4.52,337.6,43.12],[111123,4.82,337.7,-10.68],[111169,3.76,337.8,50.28],[111188,4.29,337.9,-32.35],[111497,4.04,338.8,-0.1175],[111954,4.18,340.2,-27.04],[112029,3.41,340.4,10.83],[112122,2.07,340.7,-46.88],[112158,2.93,340.8,30.22],[112405,4.13,341.5,-81.38],[112440,3.97,341.6,23.57],[112447,4.20,341.7,12.17],[112623,3.49,342.1,-51.32],[112716,4.05,342.4,-13.59],[112724,3.50,342.4,66.2],[112748,3.51,342.5,24.6],[112961,3.73,343.2,-7.58],[113136,3.27,343.7,-15.82],[113246,4.20,344,-32.54],[113368,1.17,344.4,-29.62],[113638,4.11,345.2,-52.75],[113881,2.44,345.9,28.08],[113963,2.49,346.2,15.21],[114131,4.28,346.7,-43.52],[114341,3.68,347.4,-21.17],[114421,3.88,347.6,-45.25],[114855,4.24,349,-9.088],[114971,3.70,349.3,3.282],[114996,3.99,349.4,-58.24],[115102,4.41,349.7,-32.53],[115438,3.96,350.7,-20.1],[115738,4.95,351.7,1.256],[115830,4.27,352,6.379],[116231,4.38,353.2,-37.82],[116727,3.21,354.8,77.63],[116771,4.13,355,5.626],[116928,4.49,355.5,1.78],[118268,4.03,359.8,6.863]];
	// Data for star names to display (if showstarlabels is set to true) - an array of [Hipparcos number,Label]
	this.starnames = [[7588,"Achernar"],[11767,"Polaris"],[21421,"Aldebaran"],[24436,"Rigel"],[24608,"Capella"],[27989,"Betelgeuse"],[30438,"Canopus"],[32349,"Sirius"],[33579,"Adara"],[37279,"Procyon"],[37826,"Pollux"],[49669,"Regulus"],[62434,"Mimosa"],[65378,"Mizar"],[65474,"Spica"],[68702,"Hadar"],[69673,"Arcturus"],[71683,"Alpha Centauri A"],[80763,"Antares"],[85927,"Shaula"],[91262,"Vega"],[97649,"Altair"],[102098,"Deneb"],[113368,"Fomalhaut"]];
	this.starsdeep = "stars.json";
	this.lines = [['Andromeda',12.113,37.432,677,3092,3092,5447,9640,5447,5447,4436,4436,3881],['Antlia',155,-34,51172,48926],['Apus',242.16,-75.3,72370,81065,81065,81852],['Aquarius',340,-10,106278,109074,109074,110395,110395,110960,110960,111497,111497,112961,112961,114855,114855,115438,109074,110003,110003,109139,110003,111123,111123,112716,112716,113136,113136,114341,102618,106278],['Aquila',295,3.4106,98036,97649,97649,97278,97649,95501,95501,97804,99473,97804,95501,93747,93747,93244,95501,93805],['Ara',260.62,-52,88714,85792,85792,83081,83081,82363,82363,85727,85727,85267,85267,85258,85258,88714],['Aries',39.538,20.792,13209,9884,9884,8903,8903,8832],['Auriga',91.104,42.028,28380,28360,28360,24608,24608,23453,23453,23015,25428,23015,25428,28380],['Bootes',220.66,31,71795,69673,69673,72105,72105,74666,74666,73555,73555,71075,71075,71053,71053,69673,69673,67927,67927,67459],['Caelum',73,-38,21060,21770,21770,21861],['Camelopardalis',90,70,16228,18505,18505,22783,22783,17959,17959,16228,17959,25110],['Cancer',129.74,19.806,43103,42806,42806,40843,42806,42911,42911,40526,42911,44066],['Canes Venatici',196.74,40.102,61317,63125],['Canis Major',102.43,-22.14,33160,34045,34045,33347,33347,32349,32349,33977,33977,34444,34444,35037,35037,35904,33579,33856,33856,34444,33856,33165,33165,31592,31592,31416,31592,30324,31592,32349,33579,32759,30122,33579,33347,33160],['Canis Minor',114.79,6.4269,37279,36188],['Capricornus',315,-21,100064,100345,100345,104139,104139,105515,105515,106985,106985,107556,105515,105881,105881,104139,100345,102485,104139,102978],['Carina',130,-60,45238,50099,50099,52419,52419,52468,52468,54463,54463,53253,53253,51232,51232,50371,50371,45556,42568,41037,41037,30438,45080,45556,45080,42568,30438,31685,41037,39429],['Cassiopeia',19.788,62.184,8886,6686,6686,4427,4427,3179,3179,746],['Centaurus',196.07,-47.345,71683,68702,68702,66657,66657,68002,68002,68282,68282,67472,67472,67464,67464,65936,65936,65109,67464,68933,67472,71352,71352,73334,68002,61932,61932,60823,60823,59196,59196,56480,56480,56561],['Cepheus',340,71.008,109492,112724,112724,106032,106032,105199,105199,109492,112724,116727,116727,106032],['Cetus',25.025,-7.1792,10324,11484,8102,3419,3419,1562,3419,5364,5364,6537,6537,8645,8645,11345,11345,12390,12390,12770,12770,11783,11783,8102,10826,12390,10826,12387,12387,12706,12706,14135,14135,13954,13954,12828,12828,11484,11484,12093,12093,12706],['Chamaeleon',160.38,-80,40702,51839,51839,60000],['Circinus',225,-63,71908,75323,71908,74824],['Columba',87.938,-35.094,30277,29807,29807,28199,28199,27628,27628,28328,27628,26634,26634,25859],['Coma Berenices',191.82,23.306,64241,64394,64394,60742],['Corona\nAustrina',280,-41,91875,92989,92989,93174,93174,93825,93825,94114,94114,94160,94160,94005,94005,93542,93542,92953,91875,90887],['Corona\nBorealis',235,28.2,76127,75695,75695,76267,76267,76952,76952,77512,77512,78159,78159,78493],['Corvus',186.63,-18.436,61174,60965,60965,59803,59803,59316,59316,59199,59316,61359,61359,60965],['Crater',170.94,-15.929,53740,54682,54682,55705,55705,55282,55282,53740,55282,55687,55687,56633,56633,58188,58188,57283,57283,55705],['Crux',186.75,-60.186,61084,60718,62434,59747],['Cygnus',308.82,44.545,94779,95853,95853,97165,97165,100453,100453,102098,100453,102488,102488,104732,104732,107310,100453,98110,98110,95947],['Delphinus',310.4,11.671,101421,101769,101769,101958,101958,102532,102532,102281,102281,101769],['Dorado',80,-65,27100,27890,27890,26069,26069,27100,26069,21281,21281,19893],['Draco',250,60,87585,87833,87833,85670,85670,85829,85829,87585,87585,94376,94376,97433,97433,89937,89937,83895,83895,80331,80331,78527,78527,75458,75458,68756,68756,61281,61281,56211],['Equuleus',317.81,7.7581,104521,104858,104858,105570,105570,104987,104987,104521],['Eridanus',63,-28.756,7588,9007,9007,10602,10602,11407,11407,12413,12413,12486,12486,13847,13847,15510,15510,17797,17797,17874,17874,20042,20042,20535,20535,21393,21393,17651,17651,16611,16611,15474,15474,14146,14146,12843,12843,13701,13701,15197,15197,16537,16537,17378,17378,21444,21444,22109,22109,22701,22701,23875,23875,23972,23972,21594],['Fornax',41.967,-31.634,13147,14879],['Gemini',106.06,22.6,31681,34088,34088,35550,35550,35350,35350,32362,35550,36962,36962,37740,36962,37826,36962,36046,36046,34693,34693,36850,34693,33018,34693,32246,32246,30883,32246,30343,30343,29655,29655,28734],['Grus',336.85,-46.352,114131,110997,110997,109268,109268,112122,112122,114421,114421,114131,112122,113638,112122,112623,109268,109111,109111,108085],['Hercules',260.79,27.499,86414,87808,87808,85112,85112,84606,84606,84380,84380,81833,81833,81126,81126,79992,79992,77760,81833,81693,81693,80816,80816,80170,81693,83207,83207,85693,85693,84379,86974,87933,87933,88794,87933,86974,83207,84380],['Horologium',49.138,-53.336,19747,12484,12484,14240],['Hydra',154,-20,42799,42402,42402,42313,42313,43109,43109,43234,43234,42799,43234,43813,43813,45336,45336,46776,46776,46509,46509,46390,46390,48356,48356,49841,49841,51069,51069,52943,52943,56343,56343,57936,57936,64166,64166,64962],['Hydrus',35.158,-69.956,2021,17678,17678,12394,12394,11001,11001,9236],['Indus',320,-55,105319,101772,101772,103227,103227,105319],['Lacerta',336.92,46.042,109937,111104,111104,111022,111022,110609,110609,110538,110538,111169,111169,111022],['Leo',160,13.139,57632,54879,54879,49669,49669,49583,49583,50583,50583,54872,54872,57632,50583,50335,50335,48455,48455,47908,54872,54879],['Leo Minor',153.68,32.134,53229,51233,51233,49593,49593,46952,49593,53229],['Lepus',83.487,-19.046,28910,28103,28103,27288,27288,25985,25985,24305,25985,27654,27654,27072,27072,25606,25606,23685,25985,25606,24305,24845,24305,24327,23685,24305,24327,24244,24845,24873],['Libra',227.99,-15.234,77853,76333,76333,74785,74785,72622,72622,73714,73714,76333],['Lupus',232,-42,77634,78970,78970,78384,78384,77634,78384,76297,76297,75141,75141,75177,75141,73273,76297,76552,76552,74395,74395,71860,74395,71536,71860,70576,71860,73273],['Lynx',119.88,47.467,45860,45688,45688,44700,44700,44248,44248,41075,41075,36145,36145,33449,33449,30060],['Lyra',282.79,36.689,91262,91971,91971,92420,92420,93194,93194,92791,92791,91971],['Mensa',81.221,-77.504,25918,21949],['Microscopium',314.47,-36.275,105140,103738,103738,102831],['Monoceros',105.9,0.28194,29651,30867,30867,34769,34769,30419,30419,29151,34769,39863,39863,37447],['Musca',188.82,-70.161,62322,57363,57363,61199,61199,61585,61585,62322],['Norma',240,-51.351,79509,80000,80000,80582,80582,78639,78639,80000,78639,79509],['Octans',320,-85,107089,112405,112405,70638,70638,107089],['Ophiuchus',258,-4,86032,86742,84012,86742,86032,83000,83000,79882,79882,81377,81377,84012,84012,85755],['Orion',83.646,6,26727,26311,26311,25930,28691,29426,29426,29038,29038,27913,29426,28614,28614,27989,27989,26727,26727,27366,27366,24436,24436,25930,25930,25336,25336,26207,26207,27989,25336,22449,22449,22549,22549,22730,22730,23123,22449,22509,22509,22845,29038,28614],['Pavo',294.18,-65.781,100751,105858,105858,102395,102395,99240,99240,100751,99240,98495,98495,91792,91792,93015,93015,99240,93015,92609,92609,90098,90098,88866,88866,92609,88866,86929],['Pegasus',340.46,19.466,1067,113963,113881,112158,112158,109352,113881,112748,112748,112440,112440,109176,109176,107354,113963,112447,112447,112029,112029,109427,109427,107315,677,113881,677,1067,113881,113963],['Perseus',55,45,17448,18246,18246,18614,18614,18532,18532,17358,17358,15863,15863,14328,14328,13268,15863,14576,14576,14354,14354,13254],['Phoenix',13.975,-48.581,5348,5165,5165,2072,2072,5348,5165,7083,7083,8837,8837,5165,5165,6867,6867,2072,2072,2081,2081,765,765,2072],['Pictor',85.612,-53.474,32607,27530,27530,27321],['Pisces',15,12,4889,5742,4889,6193,6193,5742,5742,7097,7097,8198,8198,9487,9487,8833,8833,7884,7884,7007,7007,4906,4906,3760,3760,1645,1645,118268,118268,116771,116771,116928,116928,115738,115738,114971,114971,115830,115830,116771],['Piscis Austrinus',334.27,-30.642,113368,111954,111954,108661,108661,107608,107608,109422,109422,111188,111188,113246],['Puppis',118,-30,39757,38146,38146,35264,35264,31685,31685,32768,32768,36377,36377,39429,39429,39757],['Pyxis',134.29,-27.352,42515,42828,42828,43409],['Reticulum',58.817,-59.998,19780,19921,19921,18597,18597,17440,17440,19780],['Sagitta',294.76,18.861,96837,97365,97365,96757,97365,98337,98337,98920],['Sagittarius',286.48,-28.477,89931,90496,89642,90185,90185,88635,88635,87072,88635,89931,89931,90185,90185,93506,93506,92041,92041,89931,92041,90496,90496,89341,93506,93864,93864,92855,92855,92041,92855,93085,93085,93683,93683,94820,94820,95168,93864,96406,96406,98688,98688,98412,98412,98032,98032,95347,98032,95294],['Scorpius',250,-35,85927,86670,86670,87073,87073,86228,86228,84143,84143,82671,82671,82514,82514,82396,82396,81266,81266,80763,80763,78401,80763,78265,80763,78820],['Sculptor',6.5667,-32.088,116231,4577,4577,115102,115102,116231],['Scutum',280.1,-9.8886,92175,92202,92202,92814,92814,90595,90595,91117,91117,92175],['Serpens',242,6.4,77516,77622,77622,77070,77070,76276,76276,77233,77233,78072,78072,77450,77450,77233,92946,89962,89962,86565,86565,86263,86263,84880],['Sextans',154.07,-2.6144,51437,49641],['Taurus',65,14.877,25428,21881,21881,20889,21421,26451,20205,20455,20205,18724,18724,15900,21421,20889,21421,20894,20894,20205,20889,20648,20648,20455,20455,17847],['Telescopium',289.88,-51.037,90568,90422],['Triangulum',30,32,10559,10064,10064,8796,8796,10559],['Triangulum\nAustrale',241.24,-65.388,82273,74946,74946,77952,77952,82273],['Tucana',0,-65,110130,114996,114996,1599,114996,2484],['Ursa Major',160,50,67301,65378,65378,62956,62956,59774,59774,54061,54061,53910,53910,58001,58001,59774,58001,57399,57399,54539,54539,50372,54539,50801,53910,48402,48402,46853,46853,44471,46853,44127,48402,48319,48319,41704,41704,46733,46733,54061],['Ursa Minor',225,74,11767,85822,85822,82080,82080,77055,77055,79822,79822,75097,75097,72607,72607,77055],['Vela',143.66,-47.167,39953,42536,42536,42913,42913,45941,45941,48774,48774,52727,52727,51986,51986,50191,50191,46651,46651,44816,44816,39953],['Virgo',201.1,-4.1583,57380,60030,60030,61941,61941,65474,65474,69427,69427,69701,69701,71957,65474,66249,66249,68520,68520,72220,66249,63090,63090,63608,63090,61941],['Volans',116.93,-69.801,37504,34481,34481,39794,39794,37504,39794,35228,39794,41312,41312,44382,44382,39794],['Vulpecula',305,25,95771,98543]];

	// Type of projections e.g. 'stereo', 'lambert', 'polar', 'equirectangular', 'ortho'
	this.projections = [{
		name: 'polar',
		azel2xy: function(az,el,w,h,vs){
			var radius = h/2;
			var r = radius*(90-el)/90
			y = radius-r*Math.cos(az*vs.d2r);
			x = w/2-r*Math.sin(az*vs.d2r);
			return {x:x,y:y};
		},
		polartype: true
	},{
		name: 'stereo',
		azel2xy: function(az,el,w,h,vs){
			var sinel1 = Math.sin(0);
			var cosel1 = Math.cos(0);
			var cosaz = Math.cos((az-180)*vs.d2r);
			var sinaz = Math.sin((az-180)*vs.d2r);
			var sinel = Math.sin(el*vs.d2r);
			var cosel = Math.cos(el*vs.d2r);
			var k = 2/(1+sinel1*sinel+cosel1*cosel*cosaz)
			x = w/2+0.42*k*h*cosel*sinaz;
			y = h-0.42*k*h*(cosel1*sinel-sinel1*cosel*cosaz);
			return {x:x,y:y};
		}
	},{
		name: 'lambert',
		azel2xy: function(az,el,w,h,vs){
			var cosaz = Math.cos((az-180)*vs.d2r);
			var sinaz = Math.sin((az-180)*vs.d2r);
			var sinel = Math.sin(el*vs.d2r);
			var cosel = Math.cos(el*vs.d2r);
			var k = Math.sqrt(2/(1+cosel*cosaz));
			x = w/2+0.6*h*k*cosel*sinaz;
			y = h-0.6*h*k*(sinel);
			return {x:x,y:y};
		}
	},{
		name: 'ortho',
		azel2xy: function(az,el,w,h,vs){
			var radius = h/2;
			var r = radius*Math.cos(el*vs.d2r);
			y = radius-r*Math.cos(az*vs.d2r);
			x = w/2-r*Math.sin(az*vs.d2r);
			return {x:x,y:y};
		},
		polartype:true
	},{
		name: 'fisheye',
		azel2xy: function(az,el,w,h,vs){
			var radius = h/2;
			// R = 2 * f * sin(theta/2)
			var r = radius*Math.sin((90-el)*vs.d2r/2)/0.70710678;	// the field of view is bigger than 180 degrees
			//var r = radius*(90-el)/95;	// the field of view is bigger than 180 degrees
			y = radius-r*Math.cos(az*vs.d2r);
			x = w/2-r*Math.sin(az*vs.d2r);
			return {x:x,y:y};
		},
		polartype:true
	},{
		name: 'equirectangular',
		azel2xy: function(az,el,w,h){
			x = ((az-180)/90)*h + w/2;
			y = h-(el/90)*h;
			return {x:x,y:y};
		}
	},{
		name: 'mollweide',
		azel2xy: function(az,el,w,h){
			return {x:0,y:0};
		},
		fullsky:true
	},{
		name: 'planechart',
		azel2xy: function(az,el,w,h){
			return {x:0,y:0};
		},
		fullsky:true
	}];
	this.polartype = true;				// True for polar-type projections
	this.selectProjection('polar')	// Set the default

	
	// Load in the planet data from separate json file
	this.planets = "planets.json";

	this.hipparcos = new Array();
	this.az_step = 0;
	this.az_off = 0;
	this.clock = new Date();
	this.fullsky = false;

	// Country codes at http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes
	this.language = (navigator.language) ? navigator.language : navigator.userLanguage;			// Set the user language
	this.langcode = this.language.substring(0,2);
	this.langs = new Array();
	this.langs = [{
		"code" : "en",
		"name" : "English",
		"constellations": ['Andromeda','Antlia','Apus','Aquarius','Aquila','Ara','Aries','Auriga','Bootes','Caelum','Camelopardalis','Cancer','Canes Venatici','Canis Major','Canis Minor','Capricornus','Carina','Cassiopeia','Centaurus','Cepheus','Cetus','Chamaeleon','Circinus','Columba','Coma Berenices','Corona\nAustrina','Corona Borealis','Corvus','Crater','Crux','Cygnus','Delphinus','Dorado','Draco','Equuleus','Eridanus','Fornax','Gemini','Grus','Hercules','Horologium','Hydra','Hydrus','Indus','Lacerta','Leo','Leo Minor','Lepus','Libra','Lupus','Lynx','Lyra','Mensa','Microscopium','Monoceros','Musca','Norma','Octans','Ophiuchus','Orion','Pavo','Pegasus','Perseus','Phoenix','Pictor','Pisces','Piscis Austrinus','Puppis','Pyxis','Reticulum','Sagitta','Sagittarius','Scorpius','Sculptor','Scutum','Serpens','Sextans','Taurus','Telescopium','Triangulum','Triangulum\nAustrale','Tucana','Ursa Major','Ursa Minor','Vela','Virgo','Volans','Vulpecula'],
		"date": "Date &amp; Time",
		"datechange": "Change the date/time",
		"close": "close",
		"position": "Latitude &amp; Longitude",
		"positionchange": "Change the longitude/latitude",
		"N": "N",
		"E": "E",
		"S": "S",
		"W": "W",
		"keyboard": "Keyboard shortcuts:",
		"fast": "speed up",
		"stop": "stop time",
		"slow": "slow down",
		"reset": "reset time",
		"cardinalchange": "toggle cardinal points",
		"toggleaz": "toggle Az/El gridlines",
		"toggleeq": "toggle Ra/Dec gridlines",
		"togglecon": "toggle constellation lines",
		"togglenames": "toggle constellation names",
		"togglesol": "toggle planets/Sun/Moon",
		"power": "Powered by LCOGT"
	},{
		"code" : "es",
		"name" : "Espa&#241;ol",
		"constellations": ['AndrÃ³meda','Maquina Neumatica','Ave del Paraiso','Acuario','Aguila','Altar','Carnero','Cochero','Boyero','Cincel o El Buril','Jirafa','Cangrejo','Perros de Caza','Can Mayor','Can Menor','Capricornio o\nLa Cabra','La Quilla','Casiopea','Centauro','Cefeo','Ballena','CamaleÃ³n','CompÃ¡s','Paloma','La Cabellera\nde Berenice','Corona\nAustral','Corona Boreal','Cuervo','La Copa','Cruz del Sur','Cisne','DelfÃ­n','Pez Dorado','DragÃ³n','Caballito o\nPotrillo','El RÃ­o Eridano','Horno','Los Gemelos','Grulla','HÃ©rcules','El Reloj','Hidra Hembra','Hidra Macho','Indio','Lagarto','El LeÃ³n','LeÃ³n Menor','Liebre','Balanza','Lobo','Lince','Lira','Mesa','Microscopio','Unicornio','Mosca','Escuadra/Regla','Octante','Ofiuco','OriÃ³n','Pavo','Pegaso','Perseo','Ave FÃ©nix','Caballete de Pintor','Los Peces','Pez Austral','Popa','BrÃºjula','RetÃ­culo/Red','Flecha','Sagitario','EscorpiÃ³n','Escultor','El Escudo','Serpiente','Sextante','Tauro o el Toro','Telescopio','TriÃ¡ngulo','TriÃ¡ngulo\nAustral','TucÃ¡n','Osa Mayor','Osa Menor','Vela','La Virgen','Pez Volador','Zorra o El Zorro']
	}];
	this.col = {
		'black':"rgb(0,0,0)",
		'white':"rgb(255,255,255)",
		'grey':"rgb(100,100,100)",
		'sun':'rgb(255,215,0)',
		'moon':'rgb(150,150,150)',
		'cardinal':'rgba(163,228,255, 1)',
		'constellation':"rgba(180,180,255,0.8)",
		'az':"rgba(100,100,255,0.4)",
		'eq':"rgba(255,100,100,0.4)"
	};

	this.input = input;

	// Overwrite with input values
	this.init(input);
	
	this.changeLanguage(this.langcode);

	// Define some VirtualSky styles
	$('<style type="text/css">.virtualskyhelp { padding: 10px; background-color: white;border-radius:0.5em;-moz-border-radius:0.5em;-webkit-border-radius:0.5em; } .virtualskyhelp ul { list-style:none;margin: 0px;padding:0px; } .virtualskyinfobox { background-color:rgb(200,200,200);color:black;padding:5px;border-radius:0.5em;-moz-border-radius:0.5em;-webkit-border-radius:0.5em;box-shadow:0px 0px 20px rgba(255,255,255,0.5);-moz-box-shadow:0px 0px 20px rgba(255,255,255,0.5);-webkit-box-shadow:0px 0px 20px rgba(255,255,255,0.5);} .virtualskyinfobox img {} .virtualskyinfocredit {color: white;float:left;font-size: 0.8em;padding: 5px;position: absolute;} .virtualskyform { position:absolute;z-index:20;display:block;overflow:hidden;background-color:#ddd;padding:10px;box-shadow:0px 0px 20px rgba(255,255,255,0.6);-moz-box-shadow:0px 0px 20px rgba(255,255,255,0.6);-webkit-box-shadow:0px 0px 20px rgba(255,255,255,0.6);border-radius:0.5em;-moz-border-radius:0.5em;-webkit-border-radius:0.5em; } .virtualskydismiss { float:right;padding-left:5px;padding-right:5px;margin:0px;font-weight:bold;cursor:pointer;color:black;margin-right:-5px;margin-top:-5px; } .virtualskyform input,.virtualskyform .divider { display:inline-block;font-size:20px;text-align:center;margin-right:2px; } .virtualskyform .divider { margin-top: 5px; padding: 2px;}</style>').appendTo("head");

	// Constants
	this.d2r = Math.PI/180;

	this.pointers = new Array();

	// Internal variables
	this.dragging = false;
	this.x = "";
	this.y = "";
	this.theta = 0;
	this.sky_gradient;
	this.infobox = "virtualskyinfobox";
	this.container = '';
	this.now = this.clock;
	this.times = this.astronomicalTimes();
	if(this.id) this.createSky();
	var p = this.moonPos(this.times.JD);
	this.moon = p.moon;
	this.sun = p.sun;

	if(this.islive) interval = window.setInterval(function(sky){ sky.setClock('now'); },1000,this);
}