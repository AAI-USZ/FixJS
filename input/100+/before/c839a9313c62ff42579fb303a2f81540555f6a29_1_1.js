function U(d,c){c.toRad=c.inDegrees?z/180:1;c.rotate=c.rotate||c.angle;d.translate(c.x,c.y);d.rotate(c.rotate*c.toRad);d.translate(-c.x,-c.y)}function G(d,c,j,b,a){j.toRad=j.inDegrees?z/180:1;c.save();a=a||b;!d&&!j.fromCenter&&(j.x+=b/2,j.y+=a/2);(j.rotate||j.angle)&&U(c,j);(1!==j.scale||1!==j.scaleX||1!==j.scaleY)&&T(c,j);(j.translate||j.translateX||j.translateY)&&S(c,j)}function V(d,c,j){j&&j.visible&&(j.method===b.fn.draw?j.fn.call(d[0],c):j.method&&j.method.call(d,j))}function D(d,
c,j){var a,A,p,m="function"===typeof c,c=c||{};if(c.layer&&!c._layer){a=b(d);A=a.getLayers();m&&(c={method:b.fn.draw,fn:c,name:c.name,group:c.group,visible:c.visible});c=u(new x,c);if(!m)for(p in c.method=b.fn[c.method]||j,B.events)if(B.events.hasOwnProperty(p)&&c[p]){if(!b.data(d,"jCanvas-"+p))B.events[p](a);c._event=v}c.layer=v;c._layer=v;c.index===w&&(c.index=A.length);A.splice(c.index,0,c)}}function W(d){var c;for(c=0;c<I.length;c+=1)d[I[c]]=d["_"+I[c]]}