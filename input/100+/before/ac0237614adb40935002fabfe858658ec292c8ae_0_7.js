function(a,b){var c,d,e,f,j=[],g="",h,n,o=Base64.code;n=(typeof b=="undefined"?0:b)?a.encodeUTF8():a;h=n.length%3;if(h>0)for(;h++<3;){g=g+"=";n=n+"\x00"}for(h=0;h<n.length;h=h+3){c=n.charCodeAt(h);d=n.charCodeAt(h+1);e=n.charCodeAt(h+2);f=c<<16|d<<8|e;c=f>>18&63;d=f>>12&63;e=f>>6&63;f=f&63;j[h/3]=o.charAt(c)+o.charAt(d)+o.charAt(e)+o.charAt(f)}j=j.join("");return j=j.slice(0,j.length-g.length)+g}