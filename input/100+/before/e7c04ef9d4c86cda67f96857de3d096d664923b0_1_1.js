function(a){function e(a,b){this._oldCall=a[b],this._seenObj=a,this._seenMethod=b}function f(a,b,c,f){var g=this;if(typeof c!="string")throw"Dexter should receive method name as a String";if(!b||typeof b[c]!="function")throw'Dexter should receive a valid object and method combination in arguments. Ex.: window & "alert".';typeof f=="function"&&(this.callback=f),e.call(this,b,c),b[c]=function(){var b=[].slice.apply(arguments);g.called=g.called+1,d[a].call(this,g,b),typeof g.callback=="function"&&g.callback.apply(this,b)}}var b,c,d;b=function(){this._seenObj[this._seenMethod]=this._oldCall,this.isActive=!1},d={spy:function(a,b){a._oldCall.apply(this,b)},stub:function(){}},f.prototype={called:0,restore:b,isActive:!0,callback:c},a.Dexter={spy:function(a,b,c){return new f("spy",a,b,c)},stub:function(a,b,c){return new f("stub",a,b,c)}}}