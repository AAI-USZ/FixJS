function(){for(var a=this.track.chart.scale.min,b=this.track.chart.scale.max,c=!1,d=0;d<this.features.length;d++){var e=this.features[d].position,f=this.features[d].getEnd();if(e>=a&&e<=b||f>=a&&f<=b)this.features[d].draw(),c=!0}return c}});var Tooltip=Class.extend({init:function(a,b,c,d){this.text=a;this.placement=b||"above";this.verticalOffset=c||0;for(var e in d)this[e]=d[e];this.horizontalOffset=this.horizontalOffset||0;this.ntOffset=this.ntOffset||0},fire:function(a){a=a||this.feature;this.chart=a.lane.track.chart;this.ctx=this.chart.ctx;this.draw(a,1)},draw:function(a,b){this.ctx.globalAlpha=b;var c=this.chart.tooltips.roundness,d=this.chart.tooltips.text.font,e=this.chart.tooltips.text.size,f=this.text||a.onMouseover;this.ctx.save();
this.ctx.font=e+"px "+d;d=this.ctx.measureText(f);var g=[f],h=e+10,i=d.width+10,k,l;d=0;a.seq&&(d=this.ntOffset*(a.getPixelLength()/a.length));d=a.getPixelPositionX()+this.horizontalOffset+d;var j;j=this.placement=="below"?a.getPixelPositionY()+a.getHeight()-this.verticalOffset:a.getPixelPositionY()-h-this.verticalOffset;a.getPixelLength();if(i>200)g=this.ctx.measureText("s").width,g=parseInt(200/g),f=ScriblWrapLines(g,f),i=210,h=f[1]*e+10,g=f[0];i+d>this.chart.width&&(d=this.chart.width-i);if(this.chart.tooltips.style==
"light")k=this.chart.ctx.createLinearGradient(d+i/2,j,d+i/2,j+h),k.addColorStop(0,"rgb(253, 248, 196)"),k.addColorStop(0.75,"rgb(253, 248, 196)"),k.addColorStop(1,"white"),l=this.chart.ctx.createLinearGradient(d+i/2,j,d+i/2,j+h),l.addColorStop(0,"black"),l.addColorStop(1,"rgb(64, 64, 64)"),this.chart.tooltips.text.color="black";else if(this.chart.tooltips.style=="dark")k=this.chart.ctx.createLinearGradient(d+i/2,j,d+i/2,j+h),k.addColorStop(0,"rgb(64, 64, 64)"),k.addColorStop(1,"rgb(121, 121, 121)"),
l="white",this.chart.tooltips.text.color="white";this.chart.lastToolTips.push({pixels:this.ctx.getImageData(d-1,j-1,i+2,h+2),x:d-1,y:j-1});this.ctx.fillStyle=k;this.ctx.beginPath();tlc_ctrl_x=d;tlc_ctrl_y=j;tlc_lgth_x=d+c;tlc_lgth_y=j;tlc_wdth_x=d;tlc_wdth_y=j+c;blc_ctrl_x=d;blc_ctrl_y=j+h;blc_lgth_x=d+c;blc_lgth_y=j+h;blc_wdth_x=d;blc_wdth_y=j+h-c;brc_ctrl_x=d+i;brc_ctrl_y=j+h;brc_lgth_x=d+i-c;brc_lgth_y=j+h;brc_wdth_x=d+i;brc_wdth_y=j+h-c;trc_ctrl_x=d+i;trc_ctrl_y=j;trc_lgth_x=d+i-c;trc_lgth_y=
j;trc_wdth_x=d+i;trc_wdth_y=j+c;this.ctx.moveTo(tlc_lgth_x,tlc_lgth_y);this.ctx.quadraticCurveTo(tlc_ctrl_x,tlc_ctrl_y,tlc_wdth_x,tlc_wdth_y);this.ctx.lineTo(blc_wdth_x,blc_wdth_y);this.ctx.quadraticCurveTo(blc_ctrl_x,blc_ctrl_y,blc_lgth_x,blc_lgth_y);this.ctx.lineTo(brc_lgth_x,brc_lgth_y);this.ctx.quadraticCurveTo(brc_ctrl_x,brc_ctrl_y,brc_wdth_x,brc_wdth_y);this.ctx.lineTo(trc_wdth_x,trc_wdth_y);this.ctx.quadraticCurveTo(trc_ctrl_x,trc_ctrl_y,trc_lgth_x,trc_lgth_y);this.ctx.lineTo(tlc_lgth_x,tlc_lgth_y);
this.ctx.fill();this.ctx.lineWidth=this.chart.tooltips.borderWidth;this.ctx.strokeStyle=l;this.ctx.stroke();this.ctx.textBaseline="middle";this.ctx.fillStyle=this.chart.tooltips.text.color;for(c=0;c<g.length;c++)this.ctx.measureText(g[c]),this.ctx.fillText(g[c],d+5,j+e*(c+1));this.ctx.restore()}});var MouseEventHandler=Class.extend({init:function(a){this.chart=a;this.mouseY=this.mouseX=null;this.eventElement=void 0;this.isEventDetected=!1;this.tooltip=new Tooltip("","above",-4)}