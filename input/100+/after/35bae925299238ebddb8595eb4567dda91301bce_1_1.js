function(){var a=d(this);a.addClass("jqcombo");var c=d("<input/>");c.css({position:"absolute"});c.addClass("jqcombo-input");c.val(a.find("option:selected").text());a.after(c);var b,e={},j=navigator.userAgent.toLowerCase(),o,i=0,m=[/(chrome)[\/]([\w.]+)/,/(safari)[\/]([\w.]+)/,/(opera)(?:.*version)?[ \/]([\w.]+)/,/(msie) ([\w.]+)/,/(mozilla)(?:.*? rv:([\w.]+))?/],
h={};do if((o=m[i].exec(j))&&o[1]){h[o[1]]=!0;h.version=o[2]||"0";break}while(i++<m.length);j=navigator.userAgent.match(/Mac/i)?!0:!1;navigator.userAgent.match(/Win/i);h.chrome&&(e={top:2,left:2,width:-20});if(h.safari||h.chrome&&j)e={top:2,left:2,width:4,height:-2},j&&(e.width=-25,e.height=-6);h.mozilla&&j&&(e={height:-6,width:0});h.opera&&(e={top:0,left:0,width:-16,height:0},j&&(e={top:1,left:2,width:-22,height:-3}));b=d.extend({top:0,left:0,width:-22,height:-4},e);d(window).resize(function(){c.css({top:a.position().top+
b.top,left:a.position().left+b.left,width:a.width()+b.width,height:a.height()+b.height})}).resize();a.attr("tabindex","-1");a.on("change.jqcombo",function(){c.val(a.find("option:selected").text())});var k=[];c.on("keydown.jqcombo",function(a){d.inArray(a.keyCode,k)==-1&&k.push(a.keyCode);s=k.length});c.on("keyup.jqcombo",function(a){a=d.inArray(a.keyCode,k);a>=0&&k.splice(a,1);s=k.length});var w=n.notfoundCss,t=null,A=q(c,w);c.on("keyup.jqcombo",function(b){if(d.inArray(b.keyCode,r)==-1)t=b.keyCode;
if(b.keyCode===9||d.inArray(b.keyCode,r)>=0&&t===9)c.select();else if(d.inArray(b.keyCode,y)>=0){var f=a.find("option:selected").next();a.val(f.val());c.val(f.text()).select()}else if(d.inArray(b.keyCode,x)>=0){f=a.find("option:selected").prev();a.val(f.val());c.val(f.text()).select()}else if(!(s>0)&&!(d.inArray(b.keyCode,v)>=0||d.inArray(b.keyCode,r)>=0&&d.inArray(t,v)>=0)){c.css(A);var e=c.val(),g=a.find('option:startswithi("'+e+'"):eq(0)'),f=g.text();if(g.length){a.val(g.val());if(d.inArray(b.keyCode,
z)==-1){c.val(f);b=e.length;f=f.length;e=c[0];if(e.createTextRange){g=e.createTextRange();g.collapse(true);g.moveStart("character",b);g.moveEnd("character",f);g.select()}else if(e.setSelectionRange)e.setSelectionRange(b,f);else if(e.selectionStart){e.selectionStart=b;e.selectionEnd=f}e.focus()}}else{a.val("");c.css(w)}}});if(n.expandOnFocus){var B=n.expandSize,u;d(window).resize(function(){u={position:"absolute",left:a.position().left,top:a.position().top,zIndex:1}}).resize();var C=a.attr("size")||
0,D=q(a,u),l=a.clone();l.removeAttr("id name");l.css("visibility","hidden").hide();l.removeClass("jqcombo").addClass("jqcombo-clone");a.after(l);c.on("focus.jqcombo",function(){setTimeout(function(){a.attr("size",B);a.css(u);c.css("z-index",2);l.show()},0)});a.on("focus.jqcombo",function(){p&&clearTimeout(p)});var p,e=function(){p=setTimeout(function(){a.attr("size",C);a.css(D);c.css("z-index","auto");l.hide();p=null},0)};c.on("blur.jqcombo",e);a.on("blur.jqcombo click.jqcombo",e)}c.on("click.jqcombo",
function(){d(this).select()})}