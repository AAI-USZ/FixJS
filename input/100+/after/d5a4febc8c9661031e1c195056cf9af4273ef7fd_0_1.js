function(a,d){var e,f,g=!0;f=null;d="undefined"===typeof d?!0:d;a||(a={});b._iO=w(a,b._iO);b._iO=w(b._iO,b.options);b._iO.url=ja(b._iO.url);b.instanceOptions=b._iO;if(b._iO.serverURL&&!b.connected)return b.getAutoPlay()||(c._wD("SMSound.play():  Netstream not connected yet - setting autoPlay"),b.setAutoPlay(!0)),b;ka(b._iO)&&(b._setup_html5(b._iO),i());if(1===b.playState&&!b.paused)(e=b._iO.multiShot)?c._wD('SMSound.play(): "'+b.sID+'" already playing (multi-shot)',1):(c._wD('SMSound.play(): "'+
b.sID+'" already playing (one-shot)',1),f=b);if(null!==f)return f;b.loaded?c._wD('SMSound.play(): "'+b.sID+'"'):0===b.readyState?(c._wD('SMSound.play(): Attempting to load "'+b.sID+'"',1),b.isHTML5?la&&b.load(b._iO):(b._iO.autoPlay=!0,b.load(b._iO))):2===b.readyState?(c._wD('SMSound.play(): Could not load "'+b.sID+'" - exiting',2),f=b):c._wD('SMSound.play(): "'+b.sID+'" is loading - attempting to play..',1);if(null!==f)return f;if(!b.isHTML5&&9===j&&0<b.position&&b.position===b.duration)c._wD('SMSound.play(): "'+
b.sID+'": Sound at end, resetting to position:0'),a.position=0;if(b.paused&&b.position&&0<b.position)c._wD('SMSound.play(): "'+b.sID+'" is resuming from paused state',1),b.resume();else{b._iO=w(a,b._iO);if(null!==b._iO.from&&null!==b._iO.to&&0===b.instanceCount&&0===b.playState&&!b._iO.serverURL){e=function(){b._iO=w(a,b._iO);b.play(b._iO)};if(b.isHTML5&&!b._html5_canplay)c._wD('SMSound.play(): Beginning load of "'+b.sID+'" for from/to case'),b.load({_oncanplay:e}),f=!1;else if(!b.isHTML5&&!b.loaded&&
(!b.readyState||2!==b.readyState))c._wD('SMSound.play(): Preloading "'+b.sID+'" for from/to case'),b.load({onload:e}),f=!1;if(null!==f)return f;b._iO=v()}c._wD('SMSound.play(): "'+b.sID+'" is starting to play');(!b.instanceCount||b._iO.multiShotEvents||!b.isHTML5&&8<j&&!b.getAutoPlay())&&b.instanceCount++;b._iO.onposition&&0===b.playState&&k(b);b.playState=1;b.paused=!1;b.position="undefined"!==typeof b._iO.position&&!isNaN(b._iO.position)?b._iO.position:0;if(!b.isHTML5)b._iO=ha(ga(b._iO));b._iO.onplay&&
d&&(b._iO.onplay.apply(b),p=!0);b.setVolume(b._iO.volume,!0);b.setPan(b._iO.pan,!0);b.isHTML5?(i(),f=b._setup_html5(),b.setPosition(b._iO.position),f.play()):g=h._start(b.sID,b._iO.loops||1,9===j?b._iO.position:b._iO.position/1E3,b._iO.multiShot);9===j&&!g&&(c._wD("SMSound.play(): "+b.sID+": No sound hardware, or 32-sound ceiling hit"),b._iO.onplayerror&&b._iO.onplayerror.apply(b))}return b}