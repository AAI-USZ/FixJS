function(a,c,e){this.index++;if(!(a==c||c==e||a==e)){var f=osg.Vec3.sub(c,a,[]),g=osg.Vec3.cross(f,this.dir,[]),h=osg.Vec3.dot(osg.Vec3.sub(this.start,
a,[]),g),i=osg.Vec3.dot(osg.Vec3.sub(e,a,[]),g);if(i>=0){if(h<0)return;if(h>i)return}else{if(h>0)return;if(h<i)return}var g=osg.Vec3.sub(e,c,[]),j=osg.Vec3.cross(g,this.dir,[]),k=osg.Vec3.dot(osg.Vec3.sub(this.start,c,[]),j),j=osg.Vec3.dot(osg.Vec3.sub(a,c,[]),j);if(j>=0){if(k<0)return;if(k>j)return}else{if(k>0)return;if(k<j)return}var m=osg.Vec3.sub(a,e,[]),n=osg.Vec3.cross(m,this.dir,[]),m=osg.Vec3.dot(osg.Vec3.sub(this.start,e,[]),n),n=osg.Vec3.dot(osg.Vec3.sub(c,e,[]),n);if(n>=0){if(m<0)return;
if(m>n)return}else{if(m>0)return;if(m<n)return}if(h===0)h=0;else if(i!==0)h/=i;else return;if(k===0)k=0;else if(j!==0)k/=j;else return;if(m===0)i=0;else if(n!==0)i=m/n;else return;j=k+i+h;if(j!==1){if(j===0)return;j=1/j;k*=j;i*=j;h*=j}j=[];osg.Vec3.add(osg.Vec3.mult(a,k,[]),osg.Vec3.mult(c,i,[]),j);osg.Vec3.add(osg.Vec3.mult(e,h,[]),j,j);if(osg.Vec3.valid(j)){if(j=osg.Vec3.dot(osg.Vec3.sub(j,this.start,[]),this.dir),!(j<0)&&!(j>this.length))f=osg.Vec3.cross(f,g,[]),osg.Vec3.normalize(f,f),g=j/this.length,
j=[],j[0]=this.start[0]*(1-g)+this.end[0]*g,j[1]=this.start[1]*(1-g)+this.end[1]*g,j[2]=this.start[2]*(1-g)+this.end[2]*g,this.hits.push({ratio:g,nodepath:this.nodePath.slice(0),triangleHit:new osgUtil.TriangleHit(this.index-1,f,k,a,i,c,h,e),point:j}),this.hit=!0}else osg.log("Warning: TriangleIntersect "),osg.log("hit:     "+j),osg.log("         "+a),osg.log("         "+c),osg.log("         "+e)}}