function(a){this.projectionMatrix=a.getProjectionMatrix();this.viewMatrix=a.getViewMatrix();a=a.getViewport();if(a!==void 0)this.windowMatrix=a.computeWindowMatrix()},applyCamera:function(a){this.pushCamera(a);this.traverse(a)},applyNode:function(a){a.getMatrix&&this.pushModelMatrix(a.getMatrix());if(a.primitives){var c=[];osg.Matrix.copy(this.getWindowMatrix(),c);osg.Matrix.preMult(c,
this.getProjectionMatrix());osg.Matrix.preMult(c,this.getViewMatrix());osg.Matrix.preMult(c,this.getModelMatrix());var e=[];if(!osg.Matrix.inverse(c,e))return;c=osg.Matrix.transformVec3(e,this.start);e=osg.Matrix.transformVec3(e,this.end);this.intersectSegmentWithGeometry(c,e,a)}a.traverse&&this.traverse(a);a.getMatrix&&this.popModelMatrix()},apply:function(a){this.enterNode(a)!==!1&&(a.getViewMatrix?this.applyCamera(a):this.applyNode(a))}