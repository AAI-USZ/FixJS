function(b){arguments.callee.base.call(this);this.setOverflow($[13]);this._fixedColumns=b.splitContainer;this._scrollWidth=0;this._scrollLeft=0;this._footer=b.footer?true:false;this._baseAppearance=b.appearance;this._dummyColumn=this._createDummyColumn();this._currentDragColumn=null;this._feedbackLabel=null;this._labelToColumnMap={};this._columnToLabelMap={};var a=function(c){c.stopPropagation()};this.addEventListener($[79],a)},destruct:function(){this._dummyColumn=null},events:{columnLayoutChanged:$[3]},members:{setScrollLeft:function(c){this._scrollLeft=c;if(this._fixedColumns&&!qx.ui.core.Widget._inFlushGlobalQueues){for(var a=0;a<this._children.length;a++){var b=this._getColumnByLabel(this._children[a]);if(b&&b.isFixed()){this._renderLabelLeft(this._children[a],b)}}if(!org.eclipse.swt.EventUtil.getSuspended()){qx.ui.core.Widget.flushGlobalQueues()}}if(this.isSeeable()){arguments.callee.base.call(this,c)}},setScrollWidth:function(a){this._scrollWidth=a;if(this.getVisibility()){this._renderDummyColumn()}},_onColumnDispose:function(a){this._getLabelByColumn(a.target).destroy()},renderColumns:function(c){for(var b in c){var d=c[b];var a=this._getLabelByColumn(d);if(a){this._renderLabel(a,d)}}this._renderDummyColumn()},_renderLabel:function(a,b){this._renderLabelLeft(a,b);a.setWidth(b.getWidth());a.setHoverEffect(b.getMoveable());a.setVisibility(b.getVisibility());if(this._footer){a.setText(b.getFooterText());a.setImage(b.getFooterImage());if(b.getFooterFont()!==null){a.setFont(b.getFooterFont())}else{a.resetFont()}}else{if(b.getFont()!==null){a.setFont(b.getFont())}else{a.resetFont()}a.setText(b.getText());a.setImage(b.getImage());a.setToolTip(b.getToolTip());a.setSortIndicator(b.getSortDirection());a.applyObjectId(b.getObjectId());if(b.isGroup()){a.setChevron(b.isExpanded()?$[130]:$[227])}this._renderLabelY(a,b)}a.setCustomVariant(b.getCustomVariant());a.setZIndex(b.isFixed()?10000000:1);a.setHorizontalChildrenAlign(b.getAlignment())},_renderLabelY:function(a,c){if(c.isGroup()){a.setTop(0);a.setHeight(c.getHeight())}else{if(c.getGroup()!=null){var b=c.getGroup().getHeight();a.setTop(b);a.setHeight(this.getHeight()-b)}else{a.setTop(0);a.setHeight("100%")}}},_renderLabelLeft:function(a,b){var c=b.isFixed()?this._scrollLeft:0;a.setLeft(b.getLeft()+c)},_onDummyRendered:function(){this.setScrollLeft(this._scrollLeft)},_fireUpdateEvent:function(a){this.createDispatchEvent("columnLayoutChanged")},_renderDummyColumn:function(){var b=this._getDummyColumnLeft();var a=Math.max(this._scrollWidth,this.getWidth());var c=Math.max(0,a-b);this._dummyColumn.setLeft(b);this._dummyColumn.setWidth(c)},_getDummyColumnLeft:function(){var c=this._labelToColumnMap;var a=0;for(var b in c){if(c[b].getVisibility()){var d=c[b].getLeft()+c[b].getWidth();a=Math.max(a,d)}}return a},_onLabelSelected:function(b){var a=this._getColumnByLabel(b.target);a.handleSelectionEvent(b)},_onLabelMoveStart:function(b){var a=this._getColumnByLabel(b.target);return !this._footer&&a.getMoveable()},_onLabelMoveEnd:function(b){var a=this._getColumnByLabel(b.target);a.setLeft(b.position)},_onShowDragFeedback:function(b){var a=this._getColumnByLabel(b.target);var c=this._getDragFeedback(a);c.setLeft(b.position)},_onHideDragFeedback:function(c){var a=c.target;var b=this._getColumnByLabel(a);var d=this._getDragFeedback(b);var e=a.getLeft();if(c.snap){org.eclipse.rwt.AnimationUntil.snapTo(d,250,e,a.getTop(),true)}else{d.setDisplay(false)}this._currentDragColumn=null},_onLabelResizeStart:function(b){var a=this._getColumnByLabel(b.target);return !this._footer&&a.getResizeable()},_onLabelResizeEnd:function(b){var a=this._getColumnByLabel(b.target);a.setWidth(b.width)},_getColumnByLabel:function(a){return this._labelToColumnMap[a.toHashCode()]},_getLabelByColumn:function(b){var a=this._columnToLabelMap[b.toHashCode()];if(!a){if(b.getVisibility()){a=this._createLabel(b)}else{a=null}}return a},_getDragFeedback:function(a){if(this._feedbackLabel===null){this._feedbackLabel=this._createFeedbackColumn()}if(this._currentDragColumn!==a){this._renderLabelY(this._feedbackLabel,a);this._feedbackLabel.setWidth(a.getWidth());this._feedbackLabel.setCustomVariant(a.getCustomVariant());this._feedbackLabel.setText(a.getText());this._feedbackLabel.setImage(a.getImage());this._feedbackLabel.setSortIndicator(a.getSortDirection());this._feedbackLabel.setHorizontalChildrenAlign(a.getAlignment());this._feedbackLabel.setDisplay(true);this._feedbackLabel.dispatchSimpleEvent($[283]);this._currentDragColumn=a}return this._feedbackLabel},_createLabel:function(b){var a=new org.eclipse.rwt.widgets.GridColumnLabel(this._baseAppearance);if(this._footer){a.addState("footer")}else{if(b.getResizeable()){a.setResizeCursor("ew-resize")}}if(b.isGroup()){a.addState("group")}a.setTop(0);a.setHeight("100%");this.add(a);this._labelToColumnMap[a.toHashCode()]=b;this._columnToLabelMap[b.toHashCode()]=a;a.addEventListener($[25],this._onLabelSelected,this);a.addEventListener("moveStart",this._onLabelMoveStart,this);a.addEventListener($[504],this._onShowDragFeedback,this);a.addEventListener($[369],this._onHideDragFeedback,this);a.addEventListener("moveEnd",this._onLabelMoveEnd,this);a.addEventListener($[382],this._onLabelResizeStart,this);a.addEventListener("resizeEnd",this._onLabelResizeEnd,this);b.addEventListener($[229],this._onColumnDispose,this);return a},_createDummyColumn:function(){var a=new org.eclipse.rwt.widgets.GridColumnLabel(this._baseAppearance);if(this._footer){a.addState("footer")}a.setTop(0);a.setHeight("100%");a.addState("dummy");a.addEventListener("flush",this._onDummyRendered,this);a.addEventListener($[40],this._onDummyRendered,this);a.setEnabled(false);this.add(a);return a},_createFeedbackColumn:function(){var a=new org.eclipse.rwt.widgets.GridColumnLabel(this._baseAppearance);a.addState("moving");a.setTop(0);a.setHeight("100%");a.setEnabled(false);a.setZIndex(100000000);a.addState($[5]);this.add(a);return a}}